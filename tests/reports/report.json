{"created": 1749421168.2405415, "duration": 1.2862496376037598, "exitcode": 0, "root": "/home/ubuntu/mcp-gateway-registry", "environment": {}, "summary": {"passed": 161, "total": 161, "collected": 161}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests", "type": "Package"}]}, {"nodeid": "tests/e2e/auth", "outcome": "passed", "result": []}, {"nodeid": "tests/e2e/core", "outcome": "passed", "result": []}, {"nodeid": "tests/e2e/health", "outcome": "passed", "result": []}, {"nodeid": "tests/e2e/search", "outcome": "passed", "result": []}, {"nodeid": "tests/e2e/servers", "outcome": "passed", "result": []}, {"nodeid": "tests/e2e", "outcome": "passed", "result": [{"nodeid": "tests/e2e/auth", "type": "Dir"}, {"nodeid": "tests/e2e/core", "type": "Dir"}, {"nodeid": "tests/e2e/health", "type": "Dir"}, {"nodeid": "tests/e2e/search", "type": "Dir"}, {"nodeid": "tests/e2e/servers", "type": "Dir"}]}, {"nodeid": "tests/fixtures/servers", "outcome": "passed", "result": []}, {"nodeid": "tests/fixtures", "outcome": "passed", "result": [{"nodeid": "tests/fixtures/servers", "type": "Dir"}]}, {"nodeid": "tests/integration/auth", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/core", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/health", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/search", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/servers", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/test_server_routes.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_dashboard_unauthorized", "type": "Function", "lineno": 15}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_dashboard_authorized", "type": "Function", "lineno": 20}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_register_server_success", "type": "Function", "lineno": 30}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_register_server_duplicate_path", "type": "Function", "lineno": 63}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_toggle_service_success", "type": "Function", "lineno": 81}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_toggle_service_not_found", "type": "Function", "lineno": 106}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_server_details_success", "type": "Function", "lineno": 117}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_server_details_not_found", "type": "Function", "lineno": 130}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_all_server_details", "type": "Function", "lineno": 139}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_refresh_service_success", "type": "Function", "lineno": 157}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_refresh_service_not_found", "type": "Function", "lineno": 175}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_form_success", "type": "Function", "lineno": 184}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_form_not_found", "type": "Function", "lineno": 196}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_submit_success", "type": "Function", "lineno": 205}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_submit_not_found", "type": "Function", "lineno": 230}]}, {"nodeid": "tests/integration/test_server_routes.py", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_server_routes.py::TestClient", "type": "Class"}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes", "type": "Class"}]}, {"nodeid": "tests/integration", "outcome": "passed", "result": [{"nodeid": "tests/integration/auth", "type": "Dir"}, {"nodeid": "tests/integration/core", "type": "Dir"}, {"nodeid": "tests/integration/health", "type": "Dir"}, {"nodeid": "tests/integration/search", "type": "Dir"}, {"nodeid": "tests/integration/servers", "type": "Dir"}, {"nodeid": "tests/integration/test_server_routes.py", "type": "Module"}]}, {"nodeid": "tests/reports", "outcome": "passed", "result": []}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_create_session_cookie_success", "type": "Function", "lineno": 35}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_create_session_cookie_defaults", "type": "Function", "lineno": 46}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_success", "type": "Function", "lineno": 55}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_wrong_username", "type": "Function", "lineno": 61}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_wrong_password", "type": "Function", "lineno": 67}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_both_wrong", "type": "Function", "lineno": 73}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_success", "type": "Function", "lineno": 79}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_no_session", "type": "Function", "lineno": 85}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_expired_session", "type": "Function", "lineno": 94}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_invalid_signature", "type": "Function", "lineno": 107}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_no_username_in_session", "type": "Function", "lineno": 120}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_api_auth_success", "type": "Function", "lineno": 134}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_api_auth_no_session", "type": "Function", "lineno": 140}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_web_auth_success", "type": "Function", "lineno": 149}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_web_auth_no_session", "type": "Function", "lineno": 155}]}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies", "type": "Class"}]}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_success", "type": "Coroutine", "lineno": 50}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_failure", "type": "Coroutine", "lineno": 69}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_bad_response", "type": "Coroutine", "lineno": 79}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_form_success", "type": "Coroutine", "lineno": 92}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_form_with_error", "type": "Coroutine", "lineno": 112}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_login_redirect_success", "type": "Coroutine", "lineno": 129}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_login_redirect_exception", "type": "Coroutine", "lineno": 141}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_success", "type": "Coroutine", "lineno": 157}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_with_error", "type": "Coroutine", "lineno": 173}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_oauth2_init_failed", "type": "Coroutine", "lineno": 183}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_oauth2_callback_failed", "type": "Coroutine", "lineno": 192}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_no_session_cookie", "type": "Coroutine", "lineno": 201}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_invalid_session", "type": "Coroutine", "lineno": 212}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_general_exception", "type": "Coroutine", "lineno": 226}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_submit_success", "type": "Coroutine", "lineno": 240}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_submit_failure", "type": "Coroutine", "lineno": 261}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_logout", "type": "Coroutine", "lineno": 276}]}, {"nodeid": "tests/unit/auth/test_auth_routes.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes", "type": "Class"}]}, {"nodeid": "tests/unit/auth", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth/test_auth_dependencies.py", "type": "Module"}, {"nodeid": "tests/unit/auth/test_auth_routes.py", "type": "Module"}]}, {"nodeid": "tests/unit/core/test_config.py::TestSettings", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_config.py::TestSettings::test_default_values", "type": "Function", "lineno": 16}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_secret_key_generation", "type": "Function", "lineno": 30}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_custom_secret_key", "type": "Function", "lineno": 39}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_path_properties", "type": "Function", "lineno": 47}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_file_path_properties", "type": "Function", "lineno": 66}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_nginx_config_path", "type": "Function", "lineno": 80}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_environment_variables", "type": "Function", "lineno": 87}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_case_insensitive_env_vars", "type": "Function", "lineno": 104}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_custom_container_paths", "type": "Function", "lineno": 110}]}, {"nodeid": "tests/unit/core/test_config.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_config.py::TestSettings", "type": "Class"}]}, {"nodeid": "tests/unit/core/test_main.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_success", "type": "Coroutine", "lineno": 53}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_server_service_failure", "type": "Coroutine", "lineno": 68}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_faiss_service_failure", "type": "Coroutine", "lineno": 79}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_health_service_failure", "type": "Coroutine", "lineno": 90}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_shutdown_success", "type": "Coroutine", "lineno": 101}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_shutdown_failure", "type": "Coroutine", "lineno": 112}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_health_check", "type": "Coroutine", "lineno": 123}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_app_configuration", "type": "Function", "lineno": 130}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_app_routes_registered", "type": "Function", "lineno": 136}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_static_files_mounted", "type": "Function", "lineno": 151}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_routers_included", "type": "Function", "lineno": 158}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_nginx_config_generation", "type": "Coroutine", "lineno": 167}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_logging_configuration", "type": "Function", "lineno": 190}]}, {"nodeid": "tests/unit/core/test_main.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_main.py::TestClient", "type": "Class"}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication", "type": "Class"}]}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_init", "type": "Function", "lineno": 61}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_success", "type": "Function", "lineno": 66}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_no_template", "type": "Function", "lineno": 89}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_empty_servers", "type": "Function", "lineno": 97}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_servers_without_proxy_pass", "type": "Function", "lineno": 109}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_template_read_error", "type": "Function", "lineno": 127}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_write_error", "type": "Function", "lineno": 136}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_location_block_formatting", "type": "Function", "lineno": 148}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_multiple_servers", "type": "Function", "lineno": 167}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_success", "type": "Function", "lineno": 184}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_failure", "type": "Function", "lineno": 198}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_not_found", "type": "Function", "lineno": 208}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_exception", "type": "Function", "lineno": 215}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_behavior", "type": "Function", "lineno": 222}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_template_not_found", "type": "Function", "lineno": 234}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_generation_error", "type": "Function", "lineno": 246}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_reload_success", "type": "Function", "lineno": 258}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_reload_failure", "type": "Function", "lineno": 270}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_nginx_not_found", "type": "Function", "lineno": 283}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_template_placeholder_replacement", "type": "Function", "lineno": 293}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_path_normalization", "type": "Function", "lineno": 313}]}, {"nodeid": "tests/unit/core/test_nginx_service.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService", "type": "Class"}]}, {"nodeid": "tests/unit/core", "outcome": "passed", "result": [{"nodeid": "tests/unit/core/test_config.py", "type": "Module"}, {"nodeid": "tests/unit/core/test_main.py", "type": "Module"}, {"nodeid": "tests/unit/core/test_nginx_service.py", "type": "Module"}]}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes", "outcome": "passed", "result": [{"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_normal_operation", "type": "Coroutine", "lineno": 38}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_disconnect", "type": "Coroutine", "lineno": 56}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_exception", "type": "Coroutine", "lineno": 68}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_add_connection_failure", "type": "Coroutine", "lineno": 80}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_remove_connection_failure", "type": "Coroutine", "lineno": 91}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_success", "type": "Coroutine", "lineno": 107}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_empty_status", "type": "Coroutine", "lineno": 120}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_service_exception", "type": "Coroutine", "lineno": 130}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_router_configuration", "type": "Function", "lineno": 139}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_multiple_messages", "type": "Coroutine", "lineno": 155}]}, {"nodeid": "tests/unit/health/test_health_routes.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes", "type": "Class"}]}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService", "outcome": "passed", "result": [{"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_init", "type": "Function", "lineno": 16}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_initialize", "type": "Coroutine", "lineno": 23}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_shutdown", "type": "Coroutine", "lineno": 36}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_add_websocket_connection", "type": "Coroutine", "lineno": 62}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_remove_websocket_connection", "type": "Coroutine", "lineno": 72}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_send_initial_status", "type": "Coroutine", "lineno": 81}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_broadcast_health_update_single_service", "type": "Coroutine", "lineno": 119}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_broadcast_health_update_all_services", "type": "Coroutine", "lineno": 136}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_safe_send_message_success", "type": "Coroutine", "lineno": 154}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_safe_send_message_failure", "type": "Coroutine", "lineno": 162}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_service_health_data", "type": "Function", "lineno": 171}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_service_health_data_missing", "type": "Function", "lineno": 187}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_perform_health_checks", "type": "Coroutine", "lineno": 198}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_perform_health_checks_no_enabled_services", "type": "Coroutine", "lineno": 219}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_all_health_status", "type": "Function", "lineno": 235}]}, {"nodeid": "tests/unit/health/test_health_service.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService", "type": "Class"}]}, {"nodeid": "tests/unit/health", "outcome": "passed", "result": [{"nodeid": "tests/unit/health/test_health_routes.py", "type": "Module"}, {"nodeid": "tests/unit/health/test_health_service.py", "type": "Module"}]}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService", "outcome": "passed", "result": [{"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_get_text_for_embedding", "type": "Function", "lineno": 41}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_get_text_for_embedding_empty_data", "type": "Function", "lineno": 54}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_initialize_new_index", "type": "Function", "lineno": 63}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_initialize_success", "type": "Coroutine", "lineno": 71}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_local_exists", "type": "Coroutine", "lineno": 85}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_download_from_hf", "type": "Coroutine", "lineno": 105}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_exception", "type": "Coroutine", "lineno": 123}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_existing_files", "type": "Coroutine", "lineno": 133}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_dimension_mismatch", "type": "Coroutine", "lineno": 166}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_no_files", "type": "Coroutine", "lineno": 191}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_success", "type": "Coroutine", "lineno": 203}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_no_index", "type": "Coroutine", "lineno": 224}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_exception", "type": "Coroutine", "lineno": 232}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_not_initialized", "type": "Coroutine", "lineno": 244}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_new_service", "type": "Coroutine", "lineno": 255}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_existing_no_change", "type": "Coroutine", "lineno": 292}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_encoding_error", "type": "Coroutine", "lineno": 323}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_global_service_instance", "type": "Function", "lineno": 342}]}, {"nodeid": "tests/unit/search/test_faiss_service.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService", "type": "Class"}]}, {"nodeid": "tests/unit/search", "outcome": "passed", "result": [{"nodeid": "tests/unit/search/test_faiss_service.py", "type": "Module"}]}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService", "outcome": "passed", "result": [{"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_init", "type": "Function", "lineno": 20}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_path_to_filename", "type": "Function", "lineno": 25}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_success", "type": "Function", "lineno": 32}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_duplicate_path", "type": "Function", "lineno": 44}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_save_failure", "type": "Function", "lineno": 55}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_success", "type": "Function", "lineno": 62}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_not_found", "type": "Function", "lineno": 79}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_save_failure", "type": "Function", "lineno": 84}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_toggle_service_success", "type": "Function", "lineno": 96}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_toggle_service_not_found", "type": "Function", "lineno": 115}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_server_info", "type": "Function", "lineno": 120}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_all_servers", "type": "Function", "lineno": 133}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_is_service_enabled", "type": "Function", "lineno": 147}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_enabled_services", "type": "Function", "lineno": 164}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_server_to_file", "type": "Function", "lineno": 187}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_server_to_file_failure", "type": "Function", "lineno": 197}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_service_state", "type": "Function", "lineno": 203}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_service_state_failure", "type": "Function", "lineno": 213}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_no_file", "type": "Function", "lineno": 220}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_with_file", "type": "Function", "lineno": 231}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_file_error", "type": "Function", "lineno": 246}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_json_error", "type": "Function", "lineno": 258}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_empty_directory", "type": "Function", "lineno": 271}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_with_servers", "type": "Function", "lineno": 284}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_file_error", "type": "Function", "lineno": 303}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_json_error", "type": "Function", "lineno": 325}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_missing_path", "type": "Function", "lineno": 348}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_directory_not_exists", "type": "Function", "lineno": 373}]}, {"nodeid": "tests/unit/servers/test_server_service.py", "outcome": "passed", "result": [{"nodeid": "tests/unit/servers/test_server_service.py::TestServerService", "type": "Class"}]}, {"nodeid": "tests/unit/servers", "outcome": "passed", "result": [{"nodeid": "tests/unit/servers/test_server_service.py", "type": "Module"}]}, {"nodeid": "tests/unit", "outcome": "passed", "result": [{"nodeid": "tests/unit/auth", "type": "Dir"}, {"nodeid": "tests/unit/core", "type": "Dir"}, {"nodeid": "tests/unit/health", "type": "Dir"}, {"nodeid": "tests/unit/search", "type": "Dir"}, {"nodeid": "tests/unit/servers", "type": "Dir"}]}, {"nodeid": "tests", "outcome": "passed", "result": [{"nodeid": "tests/e2e", "type": "Dir"}, {"nodeid": "tests/fixtures", "type": "Dir"}, {"nodeid": "tests/integration", "type": "Dir"}, {"nodeid": "tests/reports", "type": "Dir"}, {"nodeid": "tests/unit", "type": "Dir"}]}], "tests": [{"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_dashboard_unauthorized", "lineno": 15, "outcome": "passed", "keywords": ["test_dashboard_unauthorized", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0029915000013716053, "outcome": "passed"}, "call": {"duration": 0.013656270999490516, "outcome": "passed", "stderr": "2025-06-08 22:19:27.137 - PID:89416 - dependencies.py:24 - registry.auth.dependencies - INFO - No session cookie found\n2025-06-08 22:19:27.140 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/ \"HTTP/1.1 307 Temporary Redirect\"\n", "log": [{"name": "registry.auth.dependencies", "msg": "No session cookie found", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 24, "funcName": "get_current_user", "created": 1749421167.1378655, "msecs": 137.0, "relativeCreated": 6192.345142364502, "thread": 139914481665600, "threadName": "AnyIO worker thread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/ \"HTTP/1.1 307 Temporary Redirect\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.140362, "msecs": 140.0, "relativeCreated": 6194.841623306274, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029880199872422963, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_dashboard_authorized", "lineno": 20, "outcome": "passed", "keywords": ["test_dashboard_authorized", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000591464002354769, "outcome": "passed"}, "call": {"duration": 0.03901659999974072, "outcome": "passed", "stderr": "2025-06-08 22:19:27.182 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.1824653, "msecs": 182.0, "relativeCreated": 6236.944913864136, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00025333200028399006, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_register_server_success", "lineno": 30, "outcome": "passed", "keywords": ["test_register_server_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005668339981639292, "outcome": "passed"}, "call": {"duration": 0.007924592999188462, "outcome": "passed", "stderr": "2025-06-08 22:19:27.190 - PID:89416 - server_routes.py:141 - registry.api.server_routes - INFO - Service registration request from user 'testuser'\n2025-06-08 22:19:27.190 - PID:89416 - server_routes.py:142 - registry.api.server_routes - INFO - Name: Fox Ltd, Path: /policy-baby-break, URL: http://localhost:29422\n2025-06-08 22:19:27.191 - PID:89416 - server_routes.py:187 - registry.api.server_routes - INFO - New service registered: 'Fox Ltd' at path '/policy-baby-break' by user 'testuser'\n2025-06-08 22:19:27.192 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/register \"HTTP/1.1 201 Created\"\n", "log": [{"name": "registry.api.server_routes", "msg": "Service registration request from user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 141, "funcName": "register_service", "created": 1749421167.1908076, "msecs": 190.0, "relativeCreated": 6245.287179946899, "thread": 139914490058304, "threadName": "Thread-3 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.api.server_routes", "msg": "Name: Fox Ltd, Path: /policy-baby-break, URL: http://localhost:29422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 142, "funcName": "register_service", "created": 1749421167.1909373, "msecs": 190.0, "relativeCreated": 6245.416879653931, "thread": 139914490058304, "threadName": "Thread-3 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.api.server_routes", "msg": "New service registered: 'Fox Ltd' at path '/policy-baby-break' by user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 187, "funcName": "register_service", "created": 1749421167.1914985, "msecs": 191.0, "relativeCreated": 6245.978116989136, "thread": 139914490058304, "threadName": "Thread-3 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/register \"HTTP/1.1 201 Created\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.1922448, "msecs": 192.0, "relativeCreated": 6246.724367141724, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00023064100241754204, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_register_server_duplicate_path", "lineno": 63, "outcome": "passed", "keywords": ["test_register_server_duplicate_path", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005570529974647798, "outcome": "passed"}, "call": {"duration": 0.00458133099891711, "outcome": "passed", "stderr": "2025-06-08 22:19:27.197 - PID:89416 - server_routes.py:141 - registry.api.server_routes - INFO - Service registration request from user 'testuser'\n2025-06-08 22:19:27.197 - PID:89416 - server_routes.py:142 - registry.api.server_routes - INFO - Name: Brown, Pierce and Ward, Path: /different-country, URL: http://localhost:30218\n2025-06-08 22:19:27.198 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/register \"HTTP/1.1 400 Bad Request\"\n", "log": [{"name": "registry.api.server_routes", "msg": "Service registration request from user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 141, "funcName": "register_service", "created": 1749421167.1971414, "msecs": 197.0, "relativeCreated": 6251.6210079193115, "thread": 139914490058304, "threadName": "Thread-4 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.api.server_routes", "msg": "Name: Brown, Pierce and Ward, Path: /different-country, URL: http://localhost:30218", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 142, "funcName": "register_service", "created": 1749421167.1972406, "msecs": 197.0, "relativeCreated": 6251.720190048218, "thread": 139914490058304, "threadName": "Thread-4 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/register \"HTTP/1.1 400 Bad Request\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.1983771, "msecs": 198.0, "relativeCreated": 6252.856731414795, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00023039200095809065, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_toggle_service_success", "lineno": 81, "outcome": "passed", "keywords": ["test_toggle_service_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005266640000627376, "outcome": "passed"}, "call": {"duration": 0.006009630000335164, "outcome": "passed", "stderr": "2025-06-08 22:19:27.204 - PID:89416 - server_routes.py:96 - registry.api.server_routes - INFO - Toggled 'Hernandez, Keller and Gamble' (/than-teacher) to True by user 'testuser'\n2025-06-08 22:19:27.205 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/toggle/than-teacher \"HTTP/1.1 200 OK\"\n", "log": [{"name": "registry.api.server_routes", "msg": "Toggled 'Hernandez, Keller and Gamble' (/than-teacher) to True by user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 96, "funcName": "toggle_service_route", "created": 1749421167.2046392, "msecs": 204.0, "relativeCreated": 6259.1187953948975, "thread": 139914481665600, "threadName": "Thread-5 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/toggle/than-teacher \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2058384, "msecs": 205.0, "relativeCreated": 6260.318040847778, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00020656099877669476, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_toggle_service_not_found", "lineno": 106, "outcome": "passed", "keywords": ["test_toggle_service_not_found", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005098229994473513, "outcome": "passed"}, "call": {"duration": 0.0031106410024221987, "outcome": "passed", "stderr": "2025-06-08 22:19:27.210 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/toggle/nonexistent \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: POST http://testserver/toggle/nonexistent \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2104, "msecs": 210.0, "relativeCreated": 6264.8797035217285, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00022497200188809074, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_server_details_success", "lineno": 117, "outcome": "passed", "keywords": ["test_get_server_details_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005149339995114133, "outcome": "passed"}, "call": {"duration": 0.004042996999487514, "outcome": "passed", "stderr": "2025-06-08 22:19:27.215 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/api/server_details/final-hope-born \"HTTP/1.1 200 OK\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/server_details/final-hope-born \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.215845, "msecs": 215.0, "relativeCreated": 6270.32470703125, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002496209999662824, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_server_details_not_found", "lineno": 130, "outcome": "passed", "keywords": ["test_get_server_details_not_found", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005076929992355872, "outcome": "passed"}, "call": {"duration": 0.0027957390011579264, "outcome": "passed", "stderr": "2025-06-08 22:19:27.220 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/api/server_details/nonexistent \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/server_details/nonexistent \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.220142, "msecs": 220.0, "relativeCreated": 6274.621486663818, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00019155100017087534, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_get_all_server_details", "lineno": 139, "outcome": "passed", "keywords": ["test_get_all_server_details", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00048762299775262363, "outcome": "passed"}, "call": {"duration": 0.004827731998375384, "outcome": "passed", "stderr": "2025-06-08 22:19:27.226 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/api/server_details/all \"HTTP/1.1 200 OK\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/server_details/all \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.226281, "msecs": 226.0, "relativeCreated": 6280.7605266571045, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002218410008936189, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_refresh_service_success", "lineno": 157, "outcome": "passed", "keywords": ["test_refresh_service_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004953229981765617, "outcome": "passed"}, "call": {"duration": 0.0041239080019295216, "outcome": "passed", "stderr": "2025-06-08 22:19:27.231 - PID:89416 - server_routes.py:381 - registry.api.server_routes - INFO - Service '/current-quality' refreshed by user 'testuser'\n2025-06-08 22:19:27.231 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/api/refresh/current-quality \"HTTP/1.1 200 OK\"\n", "log": [{"name": "registry.api.server_routes", "msg": "Service '/current-quality' refreshed by user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 381, "funcName": "refresh_service", "created": 1749421167.2310524, "msecs": 231.0, "relativeCreated": 6285.531997680664, "thread": 139914490058304, "threadName": "Thread-10 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/refresh/current-quality \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2318017, "msecs": 231.0, "relativeCreated": 6286.28134727478, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002468410020810552, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_refresh_service_not_found", "lineno": 175, "outcome": "passed", "keywords": ["test_refresh_service_not_found", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005192129974602722, "outcome": "passed"}, "call": {"duration": 0.002855309001461137, "outcome": "passed", "stderr": "2025-06-08 22:19:27.236 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/api/refresh/nonexistent \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/refresh/nonexistent \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2361188, "msecs": 236.0, "relativeCreated": 6290.598392486572, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00019383200196898542, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_form_success", "lineno": 184, "outcome": "passed", "keywords": ["test_edit_server_form_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005033839988755062, "outcome": "passed"}, "call": {"duration": 0.008783697998296702, "outcome": "passed", "stderr": "2025-06-08 22:19:27.246 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/edit/although-team-both \"HTTP/1.1 200 OK\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/edit/although-team-both \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.246269, "msecs": 246.0, "relativeCreated": 6300.748586654663, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002703319987631403, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_form_not_found", "lineno": 196, "outcome": "passed", "keywords": ["test_edit_server_form_not_found", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005195229969103821, "outcome": "passed"}, "call": {"duration": 0.0028467490010370966, "outcome": "passed", "stderr": "2025-06-08 22:19:27.250 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/edit/nonexistent \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/edit/nonexistent \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2506418, "msecs": 250.0, "relativeCreated": 6305.121421813965, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00020213199968566187, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_submit_success", "lineno": 205, "outcome": "passed", "keywords": ["test_edit_server_submit_success", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005305739978211932, "outcome": "passed"}, "call": {"duration": 0.005325025998899946, "outcome": "passed", "stderr": "2025-06-08 22:19:27.256 - PID:89416 - server_routes.py:275 - registry.api.server_routes - INFO - Server 'Updated Name' (/east-play-bed-left) updated by user 'testuser'\n2025-06-08 22:19:27.257 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/edit/east-play-bed-left \"HTTP/1.1 303 See Other\"\n", "log": [{"name": "registry.api.server_routes", "msg": "Server 'Updated Name' (/east-play-bed-left) updated by user 'testuser'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/api/server_routes.py", "filename": "server_routes.py", "module": "server_routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 275, "funcName": "edit_server_submit", "created": 1749421167.25649, "msecs": 256.0, "relativeCreated": 6310.969591140747, "thread": 139914490058304, "threadName": "Thread-14 (run_blocking_portal)", "processName": "MainProcess", "process": 89416, "taskName": "anyio.from_thread.BlockingPortal._call_func", "asctime": "2025-06-08 22:19:27"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/edit/east-play-bed-left \"HTTP/1.1 303 See Other\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2572021, "msecs": 257.0, "relativeCreated": 6311.681747436523, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00022739199994248338, "outcome": "passed"}}, {"nodeid": "tests/integration/test_server_routes.py::TestServerRoutes::test_edit_server_submit_not_found", "lineno": 230, "outcome": "passed", "keywords": ["test_edit_server_submit_not_found", "TestServerRoutes", "servers", "integration", "test_server_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005197240025154315, "outcome": "passed"}, "call": {"duration": 0.003176370999426581, "outcome": "passed", "stderr": "2025-06-08 22:19:27.262 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: POST http://testserver/edit/nonexistent \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: POST http://testserver/edit/nonexistent \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.2620058, "msecs": 262.0, "relativeCreated": 6316.485404968262, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002055910008493811, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_create_session_cookie_success", "lineno": 35, "outcome": "passed", "keywords": ["test_create_session_cookie_success", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000259591997746611, "outcome": "passed"}, "call": {"duration": 0.0005465030008053873, "outcome": "passed"}, "teardown": {"duration": 0.0001483310006733518, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_create_session_cookie_defaults", "lineno": 46, "outcome": "passed", "keywords": ["test_create_session_cookie_defaults", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00023175100068328902, "outcome": "passed"}, "call": {"duration": 0.0002555520004534628, "outcome": "passed"}, "teardown": {"duration": 0.00014718099919264205, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_success", "lineno": 55, "outcome": "passed", "keywords": ["test_validate_login_credentials_success", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003155920021526981, "outcome": "passed"}, "call": {"duration": 0.0002303609981026966, "outcome": "passed"}, "teardown": {"duration": 0.00014698100130772218, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_wrong_username", "lineno": 61, "outcome": "passed", "keywords": ["test_validate_login_credentials_wrong_username", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000297491998935584, "outcome": "passed"}, "call": {"duration": 0.00023845199757488444, "outcome": "passed"}, "teardown": {"duration": 0.0001506810003775172, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_wrong_password", "lineno": 67, "outcome": "passed", "keywords": ["test_validate_login_credentials_wrong_password", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003249520013923757, "outcome": "passed"}, "call": {"duration": 0.0002244810020783916, "outcome": "passed"}, "teardown": {"duration": 0.0001451009993616026, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_validate_login_credentials_both_wrong", "lineno": 73, "outcome": "passed", "keywords": ["test_validate_login_credentials_both_wrong", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003244220024498645, "outcome": "passed"}, "call": {"duration": 0.00021229100093478337, "outcome": "passed"}, "teardown": {"duration": 0.00016693100042175502, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_success", "lineno": 79, "outcome": "passed", "keywords": ["test_get_current_user_success", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004320430016377941, "outcome": "passed"}, "call": {"duration": 0.0005069030012236908, "outcome": "passed", "stderr": "2025-06-08 22:19:27.272 - PID:89416 - dependencies.py:46 - registry.auth.dependencies - INFO - Session validated for user testuser (auth: traditional, provider: local)\n", "log": [{"name": "registry.auth.dependencies", "msg": "Session validated for user testuser (auth: traditional, provider: local)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "get_current_user", "created": 1749421167.2721913, "msecs": 272.0, "relativeCreated": 6326.67088508606, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0001595110006746836, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_no_session", "lineno": 85, "outcome": "passed", "keywords": ["test_get_current_user_no_session", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003110819998255465, "outcome": "passed"}, "call": {"duration": 0.0005282029997033533, "outcome": "passed", "stderr": "2025-06-08 22:19:27.273 - PID:89416 - dependencies.py:24 - registry.auth.dependencies - INFO - No session cookie found\n", "log": [{"name": "registry.auth.dependencies", "msg": "No session cookie found", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 24, "funcName": "get_current_user", "created": 1749421167.2737875, "msecs": 273.0, "relativeCreated": 6328.2670974731445, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00014717100202688016, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_expired_session", "lineno": 94, "outcome": "passed", "keywords": ["test_get_current_user_expired_session", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003245719999540597, "outcome": "passed"}, "call": {"duration": 0.0009253659991372842, "outcome": "passed", "stderr": "2025-06-08 22:19:27.275 - PID:89416 - dependencies.py:51 - registry.auth.dependencies - INFO - Session cookie has expired\n", "log": [{"name": "registry.auth.dependencies", "msg": "Session cookie has expired", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "get_current_user", "created": 1749421167.2757812, "msecs": 275.0, "relativeCreated": 6330.260753631592, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0001603419987077359, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_invalid_signature", "lineno": 107, "outcome": "passed", "keywords": ["test_get_current_user_invalid_signature", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00033724199965945445, "outcome": "passed"}, "call": {"duration": 0.0006698340002913028, "outcome": "passed", "stderr": "2025-06-08 22:19:27.277 - PID:89416 - dependencies.py:58 - registry.auth.dependencies - WARNING - Invalid session cookie signature\n", "log": [{"name": "registry.auth.dependencies", "msg": "Invalid session cookie signature", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 58, "funcName": "get_current_user", "created": 1749421167.277607, "msecs": 277.0, "relativeCreated": 6332.086563110352, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00016700100240996107, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_get_current_user_no_username_in_session", "lineno": 120, "outcome": "passed", "keywords": ["test_get_current_user_no_username_in_session", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003162319990224205, "outcome": "passed"}, "call": {"duration": 0.000587544000154594, "outcome": "passed", "stderr": "2025-06-08 22:19:27.279 - PID:89416 - dependencies.py:36 - registry.auth.dependencies - WARNING - Session cookie exists but no username found\n2025-06-08 22:19:27.279 - PID:89416 - dependencies.py:65 - registry.auth.dependencies - ERROR - Unexpected error during session validation: 401: Invalid session format\n", "log": [{"name": "registry.auth.dependencies", "msg": "Session cookie exists but no username found", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "get_current_user", "created": 1749421167.2792873, "msecs": 279.0, "relativeCreated": 6333.766937255859, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.auth.dependencies", "msg": "Unexpected error during session validation: 401: Invalid session format", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 65, "funcName": "get_current_user", "created": 1749421167.279391, "msecs": 279.0, "relativeCreated": 6333.870649337769, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00015478099885513075, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_api_auth_success", "lineno": 134, "outcome": "passed", "keywords": ["test_api_auth_success", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00043253300100332126, "outcome": "passed"}, "call": {"duration": 0.0005437139989226125, "outcome": "passed", "stderr": "2025-06-08 22:19:27.281 - PID:89416 - dependencies.py:46 - registry.auth.dependencies - INFO - Session validated for user testuser (auth: traditional, provider: local)\n", "log": [{"name": "registry.auth.dependencies", "msg": "Session validated for user testuser (auth: traditional, provider: local)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "get_current_user", "created": 1749421167.281137, "msecs": 281.0, "relativeCreated": 6335.616588592529, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00016069100092863664, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_api_auth_no_session", "lineno": 140, "outcome": "passed", "keywords": ["test_api_auth_no_session", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003112319973297417, "outcome": "passed"}, "call": {"duration": 0.00035606299934443086, "outcome": "passed", "stderr": "2025-06-08 22:19:27.282 - PID:89416 - dependencies.py:24 - registry.auth.dependencies - INFO - No session cookie found\n", "log": [{"name": "registry.auth.dependencies", "msg": "No session cookie found", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 24, "funcName": "get_current_user", "created": 1749421167.282618, "msecs": 282.0, "relativeCreated": 6337.097644805908, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0001528509965282865, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_web_auth_success", "lineno": 149, "outcome": "passed", "keywords": ["test_web_auth_success", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004258029985066969, "outcome": "passed"}, "call": {"duration": 0.00038378199678845704, "outcome": "passed", "stderr": "2025-06-08 22:19:27.284 - PID:89416 - dependencies.py:46 - registry.auth.dependencies - INFO - Session validated for user testuser (auth: traditional, provider: local)\n", "log": [{"name": "registry.auth.dependencies", "msg": "Session validated for user testuser (auth: traditional, provider: local)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "get_current_user", "created": 1749421167.2842171, "msecs": 284.0, "relativeCreated": 6338.696718215942, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0001537709977128543, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_dependencies.py::TestAuthDependencies::test_web_auth_no_session", "lineno": 155, "outcome": "passed", "keywords": ["test_web_auth_no_session", "TestAuthDependencies", "auth", "unit", "test_auth_dependencies.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00030511200020555407, "outcome": "passed"}, "call": {"duration": 0.0003634230015450157, "outcome": "passed", "stderr": "2025-06-08 22:19:27.285 - PID:89416 - dependencies.py:24 - registry.auth.dependencies - INFO - No session cookie found\n", "log": [{"name": "registry.auth.dependencies", "msg": "No session cookie found", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/dependencies.py", "filename": "dependencies.py", "module": "dependencies", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 24, "funcName": "get_current_user", "created": 1749421167.2856343, "msecs": 285.0, "relativeCreated": 6340.113878250122, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0001556210008857306, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_success", "lineno": 50, "outcome": "passed", "keywords": ["test_get_oauth2_providers_success", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005421630012278911, "outcome": "passed"}, "call": {"duration": 0.0014732700001331978, "outcome": "passed"}, "teardown": {"duration": 0.0002651619979587849, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_failure", "lineno": 69, "outcome": "passed", "keywords": ["test_get_oauth2_providers_failure", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004263929986336734, "outcome": "passed"}, "call": {"duration": 0.0013835290010320023, "outcome": "passed", "stderr": "2025-06-08 22:19:27.291 - PID:89416 - routes.py:30 - registry.auth.routes - WARNING - Failed to fetch OAuth2 providers from auth server: Network error\n", "log": [{"name": "registry.auth.routes", "msg": "Failed to fetch OAuth2 providers from auth server: Network error", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 30, "funcName": "get_oauth2_providers", "created": 1749421167.2913232, "msecs": 291.0, "relativeCreated": 6345.802783966064, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-93", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00028653199842665344, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_get_oauth2_providers_bad_response", "lineno": 79, "outcome": "passed", "keywords": ["test_get_oauth2_providers_bad_response", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0003878030001942534, "outcome": "passed"}, "call": {"duration": 0.0018959119988721795, "outcome": "passed"}, "teardown": {"duration": 0.0002555309984018095, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_form_success", "lineno": 92, "outcome": "passed", "keywords": ["test_login_form_success", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001101267000194639, "outcome": "passed"}, "call": {"duration": 0.0007050040003377944, "outcome": "passed"}, "teardown": {"duration": 0.00029098099912516773, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_form_with_error", "lineno": 112, "outcome": "passed", "keywords": ["test_login_form_with_error", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0010521369986236095, "outcome": "passed"}, "call": {"duration": 0.0007274939998751506, "outcome": "passed"}, "teardown": {"duration": 0.0002662510014488362, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_login_redirect_success", "lineno": 129, "outcome": "passed", "keywords": ["test_oauth2_login_redirect_success", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0010278269983245991, "outcome": "passed"}, "call": {"duration": 0.00043380300121498294, "outcome": "passed", "stderr": "2025-06-08 22:19:27.302 - PID:89416 - routes.py:56 - registry.auth.routes - INFO - Redirecting to OAuth2 login for provider google: http://auth.example.com/oauth2/login/google?redirect_uri=http://localhost:8000/\n", "log": [{"name": "registry.auth.routes", "msg": "Redirecting to OAuth2 login for provider google: http://auth.example.com/oauth2/login/google?redirect_uri=http://localhost:8000/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "oauth2_login_redirect", "created": 1749421167.3023267, "msecs": 302.0, "relativeCreated": 6356.80627822876, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-101", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002895519974117633, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_login_redirect_exception", "lineno": 141, "outcome": "passed", "keywords": ["test_oauth2_login_redirect_exception", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0009850960013864096, "outcome": "passed"}, "call": {"duration": 0.0008587160009483341, "outcome": "passed"}, "teardown": {"duration": 0.000284451998595614, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_success", "lineno": 157, "outcome": "passed", "keywords": ["test_oauth2_callback_success", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001112668000132544, "outcome": "passed"}, "call": {"duration": 0.0007444949987984728, "outcome": "passed", "stderr": "2025-06-08 22:19:27.307 - PID:89416 - routes.py:94 - registry.auth.routes - INFO - OAuth2 callback successful for user testuser via google\n", "log": [{"name": "registry.auth.routes", "msg": "OAuth2 callback successful for user testuser via google", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 94, "funcName": "oauth2_callback", "created": 1749421167.3079114, "msecs": 307.0, "relativeCreated": 6362.390995025635, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-105", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00027566200151341036, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_with_error", "lineno": 173, "outcome": "passed", "keywords": ["test_oauth2_callback_with_error", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007811250034137629, "outcome": "passed"}, "call": {"duration": 0.00044405299922800623, "outcome": "passed", "stderr": "2025-06-08 22:19:27.310 - PID:89416 - routes.py:69 - registry.auth.routes - WARNING - OAuth2 callback received error: oauth2_error, details: Provider error\n", "log": [{"name": "registry.auth.routes", "msg": "OAuth2 callback received error: oauth2_error, details: Provider error", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "oauth2_callback", "created": 1749421167.310129, "msecs": 310.0, "relativeCreated": 6364.608526229858, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-107", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002606819980428554, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_oauth2_init_failed", "lineno": 183, "outcome": "passed", "keywords": ["test_oauth2_callback_oauth2_init_failed", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007729349999863189, "outcome": "passed"}, "call": {"duration": 0.000499613001011312, "outcome": "passed", "stderr": "2025-06-08 22:19:27.312 - PID:89416 - routes.py:69 - registry.auth.routes - WARNING - OAuth2 callback received error: oauth2_init_failed, details: None\n", "log": [{"name": "registry.auth.routes", "msg": "OAuth2 callback received error: oauth2_init_failed, details: None", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "oauth2_callback", "created": 1749421167.3123622, "msecs": 312.0, "relativeCreated": 6366.841793060303, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-109", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00027114199838251807, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_oauth2_callback_failed", "lineno": 192, "outcome": "passed", "keywords": ["test_oauth2_callback_oauth2_callback_failed", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007798959995852783, "outcome": "passed"}, "call": {"duration": 0.0003994729995611124, "outcome": "passed", "stderr": "2025-06-08 22:19:27.314 - PID:89416 - routes.py:69 - registry.auth.routes - WARNING - OAuth2 callback received error: oauth2_callback_failed, details: None\n", "log": [{"name": "registry.auth.routes", "msg": "OAuth2 callback received error: oauth2_callback_failed, details: None", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "oauth2_callback", "created": 1749421167.3144686, "msecs": 314.0, "relativeCreated": 6368.948221206665, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-111", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002735720008786302, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_no_session_cookie", "lineno": 201, "outcome": "passed", "keywords": ["test_oauth2_callback_no_session_cookie", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00100677700174856, "outcome": "passed"}, "call": {"duration": 0.00043438299690023996, "outcome": "passed", "stderr": "2025-06-08 22:19:27.316 - PID:89416 - routes.py:101 - registry.auth.routes - WARNING - OAuth2 callback completed but no valid session found\n", "log": [{"name": "registry.auth.routes", "msg": "OAuth2 callback completed but no valid session found", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "oauth2_callback", "created": 1749421167.3167996, "msecs": 316.0, "relativeCreated": 6371.279239654541, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-113", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00026636199982021935, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_invalid_session", "lineno": 212, "outcome": "passed", "keywords": ["test_oauth2_callback_invalid_session", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0009850969981926028, "outcome": "passed"}, "call": {"duration": 0.0007563250001112465, "outcome": "passed", "stderr": "2025-06-08 22:19:27.319 - PID:89416 - routes.py:98 - registry.auth.routes - WARNING - Invalid session cookie in OAuth2 callback: Invalid signature\n2025-06-08 22:19:27.319 - PID:89416 - routes.py:101 - registry.auth.routes - WARNING - OAuth2 callback completed but no valid session found\n", "log": [{"name": "registry.auth.routes", "msg": "Invalid session cookie in OAuth2 callback: Invalid signature", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 98, "funcName": "oauth2_callback", "created": 1749421167.3194404, "msecs": 319.0, "relativeCreated": 6373.91996383667, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-115", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.auth.routes", "msg": "OAuth2 callback completed but no valid session found", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "oauth2_callback", "created": 1749421167.3195326, "msecs": 319.0, "relativeCreated": 6374.012231826782, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-115", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029102199914632365, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_oauth2_callback_general_exception", "lineno": 226, "outcome": "passed", "keywords": ["test_oauth2_callback_general_exception", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008919859974412248, "outcome": "passed"}, "call": {"duration": 0.0007625649996043649, "outcome": "passed"}, "teardown": {"duration": 0.00025693199859233573, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_submit_success", "lineno": 240, "outcome": "passed", "keywords": ["test_login_submit_success", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006019339998601936, "outcome": "passed"}, "call": {"duration": 0.00111545699837734, "outcome": "passed", "stderr": "2025-06-08 22:19:27.324 - PID:89416 - routes.py:115 - registry.auth.routes - INFO - Login attempt for username: testuser\n2025-06-08 22:19:27.324 - PID:89416 - routes.py:127 - registry.auth.routes - INFO - User 'testuser' logged in successfully.\n", "log": [{"name": "registry.auth.routes", "msg": "Login attempt for username: testuser", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 115, "funcName": "login_submit", "created": 1749421167.3244116, "msecs": 324.0, "relativeCreated": 6378.891229629517, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-119", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.auth.routes", "msg": "User 'testuser' logged in successfully.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 127, "funcName": "login_submit", "created": 1749421167.32471, "msecs": 324.0, "relativeCreated": 6379.189491271973, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-119", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002727309984038584, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_login_submit_failure", "lineno": 261, "outcome": "passed", "keywords": ["test_login_submit_failure", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00041713199971127324, "outcome": "passed"}, "call": {"duration": 0.0006547550001414493, "outcome": "passed", "stderr": "2025-06-08 22:19:27.326 - PID:89416 - routes.py:115 - registry.auth.routes - INFO - Login attempt for username: testuser\n2025-06-08 22:19:27.326 - PID:89416 - routes.py:130 - registry.auth.routes - INFO - Login failed for user 'testuser'.\n", "log": [{"name": "registry.auth.routes", "msg": "Login attempt for username: testuser", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 115, "funcName": "login_submit", "created": 1749421167.3266103, "msecs": 326.0, "relativeCreated": 6381.089925765991, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-121", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.auth.routes", "msg": "Login failed for user 'testuser'.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 130, "funcName": "login_submit", "created": 1749421167.3267205, "msecs": 326.0, "relativeCreated": 6381.200075149536, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-121", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00024407099772361107, "outcome": "passed"}}, {"nodeid": "tests/unit/auth/test_auth_routes.py::TestAuthRoutes::test_logout", "lineno": 276, "outcome": "passed", "keywords": ["test_logout", "asyncio", "pytestmark", "TestAuthRoutes", "auth", "unit", "test_auth_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006173840010887943, "outcome": "passed"}, "call": {"duration": 0.00046183299855329096, "outcome": "passed", "stderr": "2025-06-08 22:19:27.328 - PID:89416 - routes.py:140 - registry.auth.routes - INFO - User logged out.\n", "log": [{"name": "registry.auth.routes", "msg": "User logged out.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/auth/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 140, "funcName": "logout", "created": 1749421167.3286264, "msecs": 328.0, "relativeCreated": 6383.105993270874, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-123", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002650420028658118, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_default_values", "lineno": 16, "outcome": "passed", "keywords": ["test_default_values", "__wrapped__", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000247120999119943, "outcome": "passed"}, "call": {"duration": 0.0018099320004694164, "outcome": "passed"}, "teardown": {"duration": 0.0001509709982201457, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_secret_key_generation", "lineno": 30, "outcome": "passed", "keywords": ["test_secret_key_generation", "__wrapped__", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002503709984011948, "outcome": "passed"}, "call": {"duration": 0.001152738001110265, "outcome": "passed"}, "teardown": {"duration": 0.00014452100003836676, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_custom_secret_key", "lineno": 39, "outcome": "passed", "keywords": ["test_custom_secret_key", "__wrapped__", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00024323099933099002, "outcome": "passed"}, "call": {"duration": 0.001132258003053721, "outcome": "passed"}, "teardown": {"duration": 0.0001433809993613977, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_path_properties", "lineno": 47, "outcome": "passed", "keywords": ["test_path_properties", "__wrapped__", "patchings", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002360420003242325, "outcome": "passed"}, "call": {"duration": 0.002981379999255296, "outcome": "passed"}, "teardown": {"duration": 0.0001529809997009579, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_file_path_properties", "lineno": 66, "outcome": "passed", "keywords": ["test_file_path_properties", "__wrapped__", "patchings", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00023485099882236682, "outcome": "passed"}, "call": {"duration": 0.0030118600006971974, "outcome": "passed"}, "teardown": {"duration": 0.00015583099957439117, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_nginx_config_path", "lineno": 80, "outcome": "passed", "keywords": ["test_nginx_config_path", "__wrapped__", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00023701100144535303, "outcome": "passed"}, "call": {"duration": 0.0024752669996814802, "outcome": "passed"}, "teardown": {"duration": 0.0001609109967830591, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_environment_variables", "lineno": 87, "outcome": "passed", "keywords": ["test_environment_variables", "__wrapped__", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00022977199841989204, "outcome": "passed"}, "call": {"duration": 0.0036218140012351796, "outcome": "passed"}, "teardown": {"duration": 0.000152220996824326, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_case_insensitive_env_vars", "lineno": 104, "outcome": "passed", "keywords": ["test_case_insensitive_env_vars", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00023461199816665612, "outcome": "passed"}, "call": {"duration": 0.0024477560000377707, "outcome": "passed"}, "teardown": {"duration": 0.00014713099881191738, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_config.py::TestSettings::test_custom_container_paths", "lineno": 110, "outcome": "passed", "keywords": ["test_custom_container_paths", "__wrapped__", "patchings", "TestSettings", "core", "unit", "test_config.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002669319983397145, "outcome": "passed"}, "call": {"duration": 0.0028439389971026685, "outcome": "passed"}, "teardown": {"duration": 0.000159040999278659, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_success", "lineno": 53, "outcome": "passed", "keywords": ["test_lifespan_startup_success", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0019334930002514739, "outcome": "passed"}, "call": {"duration": 0.002051073999609798, "outcome": "passed", "stderr": "2025-06-08 22:19:27.363 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.363 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.363 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.363 - PID:89416 - main.py:56 - registry.main - INFO - \ud83c\udfe5 Initializing health monitoring service...\n2025-06-08 22:19:27.364 - PID:89416 - main.py:59 - registry.main - INFO - \ud83c\udf10 Generating initial Nginx configuration...\n2025-06-08 22:19:27.364 - PID:89416 - main.py:66 - registry.main - INFO - \u2705 All services initialized successfully!\n2025-06-08 22:19:27.364 - PID:89416 - main.py:76 - registry.main - INFO - \ud83d\udd04 Shutting down MCP Gateway Registry...\n2025-06-08 22:19:27.364 - PID:89416 - main.py:80 - registry.main - INFO - \u2705 Shutdown completed successfully!\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.3633075, "msecs": 363.0, "relativeCreated": 6417.787075042725, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3634958, "msecs": 363.0, "relativeCreated": 6417.975425720215, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.3636127, "msecs": 363.0, "relativeCreated": 6418.092250823975, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udfe5 Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "lifespan", "created": 1749421167.363862, "msecs": 363.0, "relativeCreated": 6418.341636657715, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udf10 Generating initial Nginx configuration...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 59, "funcName": "lifespan", "created": 1749421167.364178, "msecs": 364.0, "relativeCreated": 6418.657541275024, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 All services initialized successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "lifespan", "created": 1749421167.3643725, "msecs": 364.0, "relativeCreated": 6418.852090835571, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd04 Shutting down MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "lifespan", "created": 1749421167.3644872, "msecs": 364.0, "relativeCreated": 6418.966770172119, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 Shutdown completed successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1749421167.3647296, "msecs": 364.0, "relativeCreated": 6419.209241867065, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-125", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003188720002071932, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_server_service_failure", "lineno": 68, "outcome": "passed", "keywords": ["test_lifespan_startup_server_service_failure", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001903292999486439, "outcome": "passed"}, "call": {"duration": 0.0022964150011830498, "outcome": "passed", "stderr": "2025-06-08 22:19:27.368 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.369 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.369 - PID:89416 - main.py:69 - registry.main - ERROR - \u274c Failed to initialize services: Server load failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 51, in lifespan\n    server_service.load_servers_and_state()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Server load failed\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.3688602, "msecs": 368.0, "relativeCreated": 6423.33984375, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-127", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3690407, "msecs": 369.0, "relativeCreated": 6423.52032661438, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-127", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u274c Failed to initialize services: Server load failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 51, in lifespan\n    server_service.load_servers_and_state()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Server load failed", "stack_info": null, "lineno": 69, "funcName": "lifespan", "created": 1749421167.3691406, "msecs": 369.0, "relativeCreated": 6423.620223999023, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-127", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00040172300214180723, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_faiss_service_failure", "lineno": 79, "outcome": "passed", "keywords": ["test_lifespan_startup_faiss_service_failure", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.002570096999988891, "outcome": "passed"}, "call": {"duration": 0.001699221997114364, "outcome": "passed", "stderr": "2025-06-08 22:19:27.374 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.375 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.375 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.375 - PID:89416 - main.py:69 - registry.main - ERROR - \u274c Failed to initialize services: FAISS init failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 54, in lifespan\n    await faiss_service.initialize()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: FAISS init failed\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.3748643, "msecs": 374.0, "relativeCreated": 6429.343938827515, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-130", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3750603, "msecs": 375.0, "relativeCreated": 6429.539918899536, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-130", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.3751748, "msecs": 375.0, "relativeCreated": 6429.654359817505, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-130", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u274c Failed to initialize services: FAISS init failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 54, in lifespan\n    await faiss_service.initialize()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: FAISS init failed", "stack_info": null, "lineno": 69, "funcName": "lifespan", "created": 1749421167.3752666, "msecs": 375.0, "relativeCreated": 6429.746150970459, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-130", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00039000200195005164, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_startup_health_service_failure", "lineno": 90, "outcome": "passed", "keywords": ["test_lifespan_startup_health_service_failure", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0018733830002020113, "outcome": "passed"}, "call": {"duration": 0.001949812998645939, "outcome": "passed", "stderr": "2025-06-08 22:19:27.379 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.379 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.379 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.380 - PID:89416 - main.py:56 - registry.main - INFO - \ud83c\udfe5 Initializing health monitoring service...\n2025-06-08 22:19:27.380 - PID:89416 - main.py:69 - registry.main - ERROR - \u274c Failed to initialize services: Health init failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 57, in lifespan\n    await health_service.initialize()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Health init failed\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.379587, "msecs": 379.0, "relativeCreated": 6434.066534042358, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-133", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3797576, "msecs": 379.0, "relativeCreated": 6434.237241744995, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-133", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.3798683, "msecs": 379.0, "relativeCreated": 6434.347867965698, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-133", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udfe5 Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "lifespan", "created": 1749421167.3801165, "msecs": 380.0, "relativeCreated": 6434.596061706543, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-133", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u274c Failed to initialize services: Health init failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 57, in lifespan\n    await health_service.initialize()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Health init failed", "stack_info": null, "lineno": 69, "funcName": "lifespan", "created": 1749421167.3802161, "msecs": 380.0, "relativeCreated": 6434.695720672607, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-133", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00038424200101871975, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_shutdown_success", "lineno": 101, "outcome": "passed", "keywords": ["test_lifespan_shutdown_success", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0018725820009422023, "outcome": "passed"}, "call": {"duration": 0.0017597919977561105, "outcome": "passed", "stderr": "2025-06-08 22:19:27.383 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.384 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.384 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.384 - PID:89416 - main.py:56 - registry.main - INFO - \ud83c\udfe5 Initializing health monitoring service...\n2025-06-08 22:19:27.384 - PID:89416 - main.py:59 - registry.main - INFO - \ud83c\udf10 Generating initial Nginx configuration...\n2025-06-08 22:19:27.384 - PID:89416 - main.py:66 - registry.main - INFO - \u2705 All services initialized successfully!\n2025-06-08 22:19:27.384 - PID:89416 - main.py:76 - registry.main - INFO - \ud83d\udd04 Shutting down MCP Gateway Registry...\n2025-06-08 22:19:27.385 - PID:89416 - main.py:80 - registry.main - INFO - \u2705 Shutdown completed successfully!\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.3839083, "msecs": 383.0, "relativeCreated": 6438.387870788574, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3840945, "msecs": 384.0, "relativeCreated": 6438.5740756988525, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.3842041, "msecs": 384.0, "relativeCreated": 6438.683748245239, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udfe5 Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "lifespan", "created": 1749421167.3844507, "msecs": 384.0, "relativeCreated": 6438.93027305603, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udf10 Generating initial Nginx configuration...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 59, "funcName": "lifespan", "created": 1749421167.384672, "msecs": 384.0, "relativeCreated": 6439.1515254974365, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 All services initialized successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "lifespan", "created": 1749421167.3848395, "msecs": 384.0, "relativeCreated": 6439.319133758545, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd04 Shutting down MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "lifespan", "created": 1749421167.3849015, "msecs": 384.0, "relativeCreated": 6439.381122589111, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 Shutdown completed successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1749421167.3851485, "msecs": 385.0, "relativeCreated": 6439.628124237061, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-136", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003125420007563662, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_lifespan_shutdown_failure", "lineno": 112, "outcome": "passed", "keywords": ["test_lifespan_shutdown_failure", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0018865029996959493, "outcome": "passed"}, "call": {"duration": 0.002006843002163805, "outcome": "passed", "stderr": "2025-06-08 22:19:27.388 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.388 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.389 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.389 - PID:89416 - main.py:56 - registry.main - INFO - \ud83c\udfe5 Initializing health monitoring service...\n2025-06-08 22:19:27.389 - PID:89416 - main.py:59 - registry.main - INFO - \ud83c\udf10 Generating initial Nginx configuration...\n2025-06-08 22:19:27.389 - PID:89416 - main.py:66 - registry.main - INFO - \u2705 All services initialized successfully!\n2025-06-08 22:19:27.389 - PID:89416 - main.py:76 - registry.main - INFO - \ud83d\udd04 Shutting down MCP Gateway Registry...\n2025-06-08 22:19:27.389 - PID:89416 - main.py:82 - registry.main - ERROR - \u274c Error during shutdown: Shutdown failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 79, in lifespan\n    await health_service.shutdown()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Shutdown failed\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.38865, "msecs": 388.0, "relativeCreated": 6443.129539489746, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.3888226, "msecs": 388.0, "relativeCreated": 6443.302154541016, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.389014, "msecs": 389.0, "relativeCreated": 6443.493604660034, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udfe5 Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "lifespan", "created": 1749421167.389301, "msecs": 389.0, "relativeCreated": 6443.7806606292725, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udf10 Generating initial Nginx configuration...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 59, "funcName": "lifespan", "created": 1749421167.38955, "msecs": 389.0, "relativeCreated": 6444.0295696258545, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 All services initialized successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "lifespan", "created": 1749421167.3897278, "msecs": 389.0, "relativeCreated": 6444.207429885864, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd04 Shutting down MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "lifespan", "created": 1749421167.3897986, "msecs": 389.0, "relativeCreated": 6444.278240203857, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u274c Error during shutdown: Shutdown failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/main.py\", line 79, in lifespan\n    await health_service.shutdown()\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Shutdown failed", "stack_info": null, "lineno": 82, "funcName": "lifespan", "created": 1749421167.3898816, "msecs": 389.0, "relativeCreated": 6444.361209869385, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-138", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003597430004447233, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_health_check", "lineno": 123, "outcome": "passed", "keywords": ["test_health_check", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00040284200076712295, "outcome": "passed"}, "call": {"duration": 0.00029287199868122116, "outcome": "passed"}, "teardown": {"duration": 0.0002309320007043425, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_app_configuration", "lineno": 130, "outcome": "passed", "keywords": ["test_app_configuration", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002478419992257841, "outcome": "passed"}, "call": {"duration": 0.00018112200268660672, "outcome": "passed"}, "teardown": {"duration": 0.00012970100215170532, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_app_routes_registered", "lineno": 136, "outcome": "passed", "keywords": ["test_app_routes_registered", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00022147100025904365, "outcome": "passed"}, "call": {"duration": 0.0030495700011670124, "outcome": "passed", "stderr": "2025-06-08 22:19:27.397 - PID:89416 - _client.py:1025 - httpx - INFO - HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"\n", "log": [{"name": "httpx", "msg": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1025, "funcName": "_send_single_request", "created": 1749421167.3970456, "msecs": 397.0, "relativeCreated": 6451.5252113342285, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00016031099949032068, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_static_files_mounted", "lineno": 151, "outcome": "passed", "keywords": ["test_static_files_mounted", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002442919976601843, "outcome": "passed"}, "call": {"duration": 0.00020693099941127002, "outcome": "passed"}, "teardown": {"duration": 0.00015910100046312436, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_routers_included", "lineno": 158, "outcome": "passed", "keywords": ["test_routers_included", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00022576199989998713, "outcome": "passed"}, "call": {"duration": 0.00018558200099505484, "outcome": "passed"}, "teardown": {"duration": 0.00013581100211013108, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_nginx_config_generation", "lineno": 167, "outcome": "passed", "keywords": ["test_nginx_config_generation", "asyncio", "pytestmark", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0018823419995896984, "outcome": "passed"}, "call": {"duration": 0.0018918230016424786, "outcome": "passed", "stderr": "2025-06-08 22:19:27.402 - PID:89416 - main.py:43 - registry.main - INFO - \ud83d\ude80 Starting MCP Gateway Registry...\n2025-06-08 22:19:27.403 - PID:89416 - main.py:50 - registry.main - INFO - \ud83d\udcda Loading server definitions and state...\n2025-06-08 22:19:27.403 - PID:89416 - main.py:53 - registry.main - INFO - \ud83d\udd0d Initializing FAISS search service...\n2025-06-08 22:19:27.403 - PID:89416 - main.py:56 - registry.main - INFO - \ud83c\udfe5 Initializing health monitoring service...\n2025-06-08 22:19:27.403 - PID:89416 - main.py:59 - registry.main - INFO - \ud83c\udf10 Generating initial Nginx configuration...\n2025-06-08 22:19:27.403 - PID:89416 - main.py:66 - registry.main - INFO - \u2705 All services initialized successfully!\n2025-06-08 22:19:27.403 - PID:89416 - main.py:76 - registry.main - INFO - \ud83d\udd04 Shutting down MCP Gateway Registry...\n2025-06-08 22:19:27.404 - PID:89416 - main.py:80 - registry.main - INFO - \u2705 Shutdown completed successfully!\n", "log": [{"name": "registry.main", "msg": "\ud83d\ude80 Starting MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 43, "funcName": "lifespan", "created": 1749421167.4028199, "msecs": 402.0, "relativeCreated": 6457.299470901489, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udcda Loading server definitions and state...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 50, "funcName": "lifespan", "created": 1749421167.4030023, "msecs": 403.0, "relativeCreated": 6457.481861114502, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd0d Initializing FAISS search service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "lifespan", "created": 1749421167.403126, "msecs": 403.0, "relativeCreated": 6457.605600357056, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udfe5 Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "lifespan", "created": 1749421167.4033828, "msecs": 403.0, "relativeCreated": 6457.862377166748, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83c\udf10 Generating initial Nginx configuration...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 59, "funcName": "lifespan", "created": 1749421167.4036179, "msecs": 403.0, "relativeCreated": 6458.097457885742, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 All services initialized successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "lifespan", "created": 1749421167.4037945, "msecs": 403.0, "relativeCreated": 6458.274126052856, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\ud83d\udd04 Shutting down MCP Gateway Registry...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "lifespan", "created": 1749421167.4038582, "msecs": 403.0, "relativeCreated": 6458.337783813477, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.main", "msg": "\u2705 Shutdown completed successfully!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/main.py", "filename": "main.py", "module": "main", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1749421167.4041007, "msecs": 404.0, "relativeCreated": 6458.580255508423, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-149", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003058619986404665, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_main.py::TestMainApplication::test_logging_configuration", "lineno": 190, "outcome": "passed", "keywords": ["test_logging_configuration", "TestMainApplication", "core", "unit", "test_main.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002474510001775343, "outcome": "passed"}, "call": {"duration": 0.00020339199909358285, "outcome": "passed"}, "teardown": {"duration": 0.00014412100063054822, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_init", "lineno": 61, "outcome": "passed", "keywords": ["test_init", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006279749977693427, "outcome": "passed"}, "call": {"duration": 0.00022136199913802557, "outcome": "passed"}, "teardown": {"duration": 0.0003427219999139197, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_success", "lineno": 66, "outcome": "passed", "keywords": ["test_generate_config_success", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006838050030637532, "outcome": "passed"}, "call": {"duration": 0.0004944930005876813, "outcome": "passed", "stderr": "2025-06-08 22:19:27.409 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 2 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 2 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.409589, "msecs": 409.0, "relativeCreated": 6464.068651199341, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00034445300116203725, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_no_template", "lineno": 89, "outcome": "passed", "keywords": ["test_generate_config_no_template", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005593339992628898, "outcome": "passed"}, "call": {"duration": 0.0003327029990032315, "outcome": "passed", "stderr": "2025-06-08 22:19:27.411 - PID:89416 - nginx_service.py:21 - registry.core.nginx_service - WARNING - Nginx template not found at /tmp/tmp1_g99i0q/nginx_template.conf\n", "log": [{"name": "registry.core.nginx_service", "msg": "Nginx template not found at /tmp/tmp1_g99i0q/nginx_template.conf", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "generate_config", "created": 1749421167.411541, "msecs": 411.0, "relativeCreated": 6466.020584106445, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00028920200202264823, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_empty_servers", "lineno": 97, "outcome": "passed", "keywords": ["test_generate_config_empty_servers", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006612539982597809, "outcome": "passed"}, "call": {"duration": 0.00043626300248433836, "outcome": "passed", "stderr": "2025-06-08 22:19:27.413 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 0 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 0 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.4135349, "msecs": 413.0, "relativeCreated": 6468.014478683472, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00035253299938631244, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_servers_without_proxy_pass", "lineno": 109, "outcome": "passed", "keywords": ["test_generate_config_servers_without_proxy_pass", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006723850019625388, "outcome": "passed"}, "call": {"duration": 0.0004324629990151152, "outcome": "passed", "stderr": "2025-06-08 22:19:27.415 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 1 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 1 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.4156594, "msecs": 415.0, "relativeCreated": 6470.139026641846, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003407519980100915, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_template_read_error", "lineno": 127, "outcome": "passed", "keywords": ["test_generate_config_template_read_error", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006525950011564419, "outcome": "passed"}, "call": {"duration": 0.000900554998224834, "outcome": "passed", "stderr": "2025-06-08 22:19:27.417 - PID:89416 - nginx_service.py:53 - registry.core.nginx_service - ERROR - Failed to generate Nginx configuration: Permission denied\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py\", line 24, in generate_config\n    with open(self.nginx_template_path, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: Permission denied\n", "log": [{"name": "registry.core.nginx_service", "msg": "Failed to generate Nginx configuration: Permission denied", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py\", line 24, in generate_config\n    with open(self.nginx_template_path, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: Permission denied", "stack_info": null, "lineno": 53, "funcName": "generate_config", "created": 1749421167.4179015, "msecs": 417.0, "relativeCreated": 6472.381114959717, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003408919983485248, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_write_error", "lineno": 136, "outcome": "passed", "keywords": ["test_generate_config_write_error", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006575949992111418, "outcome": "passed"}, "call": {"duration": 0.0030100599979050457, "outcome": "passed", "stderr": "2025-06-08 22:19:27.422 - PID:89416 - nginx_service.py:53 - registry.core.nginx_service - ERROR - Failed to generate Nginx configuration: Write permission denied\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py\", line 46, in generate_config\n    with open(settings.nginx_config_path, \"w\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1200, in _execute_mock_call\n    raise result\nOSError: Write permission denied\n", "log": [{"name": "registry.core.nginx_service", "msg": "Failed to generate Nginx configuration: Write permission denied", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py\", line 46, in generate_config\n    with open(settings.nginx_config_path, \"w\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1200, in _execute_mock_call\n    raise result\nOSError: Write permission denied", "stack_info": null, "lineno": 53, "funcName": "generate_config", "created": 1749421167.4226334, "msecs": 422.0, "relativeCreated": 6477.1130084991455, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00033229199834750034, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_location_block_formatting", "lineno": 148, "outcome": "passed", "keywords": ["test_generate_config_location_block_formatting", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006553740022354759, "outcome": "passed"}, "call": {"duration": 0.00045624300037161447, "outcome": "passed", "stderr": "2025-06-08 22:19:27.425 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 1 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 1 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.425053, "msecs": 425.0, "relativeCreated": 6479.532480239868, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003210020004189573, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_generate_config_multiple_servers", "lineno": 167, "outcome": "passed", "keywords": ["test_generate_config_multiple_servers", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006421739999495912, "outcome": "passed"}, "call": {"duration": 0.00045831300303689204, "outcome": "passed", "stderr": "2025-06-08 22:19:27.427 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 3 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 3 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.4271548, "msecs": 427.0, "relativeCreated": 6481.6343784332275, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00031925199800753035, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_success", "lineno": 184, "outcome": "passed", "keywords": ["test_reload_nginx_success", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000504723000631202, "outcome": "passed"}, "call": {"duration": 0.0005998839988023974, "outcome": "passed", "stderr": "2025-06-08 22:19:27.429 - PID:89416 - nginx_service.py:62 - registry.core.nginx_service - INFO - Nginx configuration reloaded successfully\n", "log": [{"name": "registry.core.nginx_service", "msg": "Nginx configuration reloaded successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 62, "funcName": "reload_nginx", "created": 1749421167.4292192, "msecs": 429.0, "relativeCreated": 6483.698844909668, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00027502200100570917, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_failure", "lineno": 198, "outcome": "passed", "keywords": ["test_reload_nginx_failure", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000512313999934122, "outcome": "passed"}, "call": {"duration": 0.0005806740009575151, "outcome": "passed", "stderr": "2025-06-08 22:19:27.431 - PID:89416 - nginx_service.py:65 - registry.core.nginx_service - ERROR - Failed to reload Nginx: nginx: [error] invalid configuration\n", "log": [{"name": "registry.core.nginx_service", "msg": "Failed to reload Nginx: nginx: [error] invalid configuration", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 65, "funcName": "reload_nginx", "created": 1749421167.4312613, "msecs": 431.0, "relativeCreated": 6485.740900039673, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002681619989743922, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_not_found", "lineno": 208, "outcome": "passed", "keywords": ["test_reload_nginx_not_found", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005144630013091955, "outcome": "passed"}, "call": {"duration": 0.0005790440009150188, "outcome": "passed", "stderr": "2025-06-08 22:19:27.433 - PID:89416 - nginx_service.py:68 - registry.core.nginx_service - WARNING - Nginx not found - skipping reload\n", "log": [{"name": "registry.core.nginx_service", "msg": "Nginx not found - skipping reload", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 68, "funcName": "reload_nginx", "created": 1749421167.4332645, "msecs": 433.0, "relativeCreated": 6487.744092941284, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002780719987640623, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_reload_nginx_exception", "lineno": 215, "outcome": "passed", "keywords": ["test_reload_nginx_exception", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005118629997014068, "outcome": "passed"}, "call": {"duration": 0.000477312998555135, "outcome": "passed", "stderr": "2025-06-08 22:19:27.435 - PID:89416 - nginx_service.py:71 - registry.core.nginx_service - ERROR - Error reloading Nginx: Unexpected error\n", "log": [{"name": "registry.core.nginx_service", "msg": "Error reloading Nginx: Unexpected error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 71, "funcName": "reload_nginx", "created": 1749421167.435188, "msecs": 435.0, "relativeCreated": 6489.667654037476, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00026345199876232073, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_behavior", "lineno": 222, "outcome": "passed", "keywords": ["test_logging_behavior", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006382339997799136, "outcome": "passed"}, "call": {"duration": 0.0008011649988475256, "outcome": "passed"}, "teardown": {"duration": 0.0003354519976710435, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_template_not_found", "lineno": 234, "outcome": "passed", "keywords": ["test_logging_template_not_found", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005431040008261334, "outcome": "passed"}, "call": {"duration": 0.0005999940003675874, "outcome": "passed"}, "teardown": {"duration": 0.00027216099988436326, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_generation_error", "lineno": 246, "outcome": "passed", "keywords": ["test_logging_generation_error", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006629239978792612, "outcome": "passed"}, "call": {"duration": 0.0008544160009478219, "outcome": "passed"}, "teardown": {"duration": 0.0003090919999522157, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_reload_success", "lineno": 258, "outcome": "passed", "keywords": ["test_logging_reload_success", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000517273998411838, "outcome": "passed"}, "call": {"duration": 0.0007712459992035292, "outcome": "passed"}, "teardown": {"duration": 0.00029334200007724576, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_reload_failure", "lineno": 270, "outcome": "passed", "keywords": ["test_logging_reload_failure", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005364330027077813, "outcome": "passed"}, "call": {"duration": 0.0008458859992970247, "outcome": "passed"}, "teardown": {"duration": 0.00028231199758010916, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_logging_nginx_not_found", "lineno": 283, "outcome": "passed", "keywords": ["test_logging_nginx_not_found", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005479340034071356, "outcome": "passed"}, "call": {"duration": 0.0007908749976195395, "outcome": "passed"}, "teardown": {"duration": 0.0002700420009205118, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_template_placeholder_replacement", "lineno": 293, "outcome": "passed", "keywords": ["test_template_placeholder_replacement", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0005242529987299349, "outcome": "passed"}, "call": {"duration": 0.0005257230004644953, "outcome": "passed", "stderr": "2025-06-08 22:19:27.450 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 1 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 1 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.4508615, "msecs": 450.0, "relativeCreated": 6505.341053009033, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003086219985561911, "outcome": "passed"}}, {"nodeid": "tests/unit/core/test_nginx_service.py::TestNginxConfigService::test_path_normalization", "lineno": 313, "outcome": "passed", "keywords": ["test_path_normalization", "TestNginxConfigService", "core", "unit", "test_nginx_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006445540020649787, "outcome": "passed"}, "call": {"duration": 0.0004560830020636786, "outcome": "passed", "stderr": "2025-06-08 22:19:27.452 - PID:89416 - nginx_service.py:49 - registry.core.nginx_service - INFO - Generated Nginx configuration with 3 location blocks\n", "log": [{"name": "registry.core.nginx_service", "msg": "Generated Nginx configuration with 3 location blocks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/core/nginx_service.py", "filename": "nginx_service.py", "module": "nginx_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "generate_config", "created": 1749421167.4529612, "msecs": 452.0, "relativeCreated": 6507.440805435181, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00032281200037687086, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_normal_operation", "lineno": 38, "outcome": "passed", "keywords": ["test_websocket_endpoint_normal_operation", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0020757639977091458, "outcome": "passed"}, "call": {"duration": 0.000949696001043776, "outcome": "passed", "stderr": "2025-06-08 22:19:27.456 - PID:89416 - routes.py:23 - registry.health.routes - INFO - WebSocket client disconnected: 127.0.0.1:12345\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket client disconnected: 127.0.0.1:12345", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 23, "funcName": "websocket_endpoint", "created": 1749421167.456914, "msecs": 456.0, "relativeCreated": 6511.3935470581055, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-151", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002985819992318284, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_disconnect", "lineno": 56, "outcome": "passed", "keywords": ["test_websocket_endpoint_disconnect", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00187412200102699, "outcome": "passed"}, "call": {"duration": 0.0008052459997998085, "outcome": "passed", "stderr": "2025-06-08 22:19:27.460 - PID:89416 - routes.py:23 - registry.health.routes - INFO - WebSocket client disconnected: 127.0.0.1:12345\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket client disconnected: 127.0.0.1:12345", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 23, "funcName": "websocket_endpoint", "created": 1749421167.4606566, "msecs": 460.0, "relativeCreated": 6515.136241912842, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-153", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002774919994408265, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_exception", "lineno": 68, "outcome": "passed", "keywords": ["test_websocket_endpoint_exception", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0019370230002095923, "outcome": "passed"}, "call": {"duration": 0.0008347160000994336, "outcome": "passed", "stderr": "2025-06-08 22:19:27.464 - PID:89416 - routes.py:25 - registry.health.routes - ERROR - WebSocket error for 127.0.0.1:12345: Connection error\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket error for 127.0.0.1:12345: Connection error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "websocket_endpoint", "created": 1749421167.4643657, "msecs": 464.0, "relativeCreated": 6518.845319747925, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-155", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002864519992726855, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_add_connection_failure", "lineno": 80, "outcome": "passed", "keywords": ["test_websocket_endpoint_add_connection_failure", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001931052996951621, "outcome": "passed"}, "call": {"duration": 0.001356199001747882, "outcome": "passed", "stderr": "2025-06-08 22:19:27.467 - PID:89416 - routes.py:25 - registry.health.routes - ERROR - WebSocket error for 127.0.0.1:12345: Add connection failed\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket error for 127.0.0.1:12345: Add connection failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "websocket_endpoint", "created": 1749421167.467952, "msecs": 467.0, "relativeCreated": 6522.4316120147705, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-157", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00028108200058341026, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_endpoint_remove_connection_failure", "lineno": 91, "outcome": "passed", "keywords": ["test_websocket_endpoint_remove_connection_failure", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0018292229979124386, "outcome": "passed"}, "call": {"duration": 0.0006651149997196626, "outcome": "passed", "stderr": "2025-06-08 22:19:27.472 - PID:89416 - routes.py:23 - registry.health.routes - INFO - WebSocket client disconnected: 127.0.0.1:12345\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket client disconnected: 127.0.0.1:12345", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 23, "funcName": "websocket_endpoint", "created": 1749421167.4722543, "msecs": 472.0, "relativeCreated": 6526.733875274658, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-159", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029447199995047413, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_success", "lineno": 107, "outcome": "passed", "keywords": ["test_health_status_http_success", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001072366998414509, "outcome": "passed"}, "call": {"duration": 0.0003121330009889789, "outcome": "passed"}, "teardown": {"duration": 0.0002587910021247808, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_empty_status", "lineno": 120, "outcome": "passed", "keywords": ["test_health_status_http_empty_status", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0009560760008753277, "outcome": "passed"}, "call": {"duration": 0.00033913199877133593, "outcome": "passed"}, "teardown": {"duration": 0.00025196200294885784, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_health_status_http_service_exception", "lineno": 130, "outcome": "passed", "keywords": ["test_health_status_http_service_exception", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.001030157000059262, "outcome": "passed"}, "call": {"duration": 0.0008082750027824659, "outcome": "passed"}, "teardown": {"duration": 0.00026430100115248933, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_router_configuration", "lineno": 139, "outcome": "passed", "keywords": ["test_router_configuration", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002227709992439486, "outcome": "passed"}, "call": {"duration": 0.00020770199989783578, "outcome": "passed"}, "teardown": {"duration": 0.0001299010000366252, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_routes.py::TestHealthRoutes::test_websocket_multiple_messages", "lineno": 155, "outcome": "passed", "keywords": ["test_websocket_multiple_messages", "asyncio", "pytestmark", "TestHealthRoutes", "health", "unit", "test_health_routes.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00189413300176966, "outcome": "passed"}, "call": {"duration": 0.0009473559985053726, "outcome": "passed", "stderr": "2025-06-08 22:19:27.484 - PID:89416 - routes.py:23 - registry.health.routes - INFO - WebSocket client disconnected: 127.0.0.1:12345\n", "log": [{"name": "registry.health.routes", "msg": "WebSocket client disconnected: 127.0.0.1:12345", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/routes.py", "filename": "routes.py", "module": "routes", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 23, "funcName": "websocket_endpoint", "created": 1749421167.48423, "msecs": 484.0, "relativeCreated": 6538.70964050293, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-167", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00031044199931784533, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_init", "lineno": 16, "outcome": "passed", "keywords": ["test_init", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00032377199750044383, "outcome": "passed"}, "call": {"duration": 0.0001910520004457794, "outcome": "passed"}, "teardown": {"duration": 0.00014218100113794208, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_initialize", "lineno": 23, "outcome": "passed", "keywords": ["test_initialize", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00042658200254663825, "outcome": "passed"}, "call": {"duration": 0.0009192860015900806, "outcome": "passed", "stderr": "2025-06-08 22:19:27.488 - PID:89416 - service.py:24 - registry.health.service - INFO - Initializing health monitoring service...\n2025-06-08 22:19:27.488 - PID:89416 - service.py:27 - registry.health.service - INFO - Health monitoring service initialized!\n", "log": [{"name": "registry.health.service", "msg": "Initializing health monitoring service...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 24, "funcName": "initialize", "created": 1749421167.4880314, "msecs": 488.0, "relativeCreated": 6542.510986328125, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-169", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.health.service", "msg": "Health monitoring service initialized!", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "initialize", "created": 1749421167.4881492, "msecs": 488.0, "relativeCreated": 6542.628765106201, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-169", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002582119996077381, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_shutdown", "lineno": 36, "outcome": "passed", "keywords": ["test_shutdown", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000436932998127304, "outcome": "passed"}, "call": {"duration": 0.0016616919965599664, "outcome": "passed", "stderr": "2025-06-08 22:19:27.491 - PID:89416 - service.py:46 - registry.health.service - INFO - Health monitoring service shutdown complete\n", "log": [{"name": "registry.health.service", "msg": "Health monitoring service shutdown complete", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "shutdown", "created": 1749421167.4912658, "msecs": 491.0, "relativeCreated": 6545.745372772217, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-171", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002826019990607165, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_add_websocket_connection", "lineno": 62, "outcome": "passed", "keywords": ["test_add_websocket_connection", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0012340980028966442, "outcome": "passed"}, "call": {"duration": 0.0009658859999035485, "outcome": "passed", "stderr": "2025-06-08 22:19:27.495 - PID:89416 - service.py:52 - registry.health.service - INFO - WebSocket client connected: <Mock name='mock.client' id='139914473259616'>\n", "log": [{"name": "registry.health.service", "msg": "WebSocket client connected: <Mock name='mock.client' id='139914473259616'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "add_websocket_connection", "created": 1749421167.4952743, "msecs": 495.0, "relativeCreated": 6549.753904342651, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-174", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029484100014087744, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_remove_websocket_connection", "lineno": 72, "outcome": "passed", "keywords": ["test_remove_websocket_connection", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0011478779997560196, "outcome": "passed"}, "call": {"duration": 0.00042242200288455933, "outcome": "passed", "stderr": "2025-06-08 22:19:27.498 - PID:89416 - service.py:61 - registry.health.service - INFO - WebSocket connection removed: <Mock name='mock.client' id='139914472791632'>\n", "log": [{"name": "registry.health.service", "msg": "WebSocket connection removed: <Mock name='mock.client' id='139914472791632'>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "remove_websocket_connection", "created": 1749421167.498031, "msecs": 498.0, "relativeCreated": 6552.510499954224, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-176", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002529320008761715, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_send_initial_status", "lineno": 81, "outcome": "passed", "keywords": ["test_send_initial_status", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0010912969992205035, "outcome": "passed"}, "call": {"duration": 0.0010582469985820353, "outcome": "passed"}, "teardown": {"duration": 0.00026774200159707107, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_broadcast_health_update_single_service", "lineno": 119, "outcome": "passed", "keywords": ["test_broadcast_health_update_single_service", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00043254299816908315, "outcome": "passed"}, "call": {"duration": 0.0014125800007604994, "outcome": "passed", "stderr": "2025-06-08 22:19:27.503 - PID:89416 - service.py:103 - registry.health.service - INFO - Broadcasting health update: /test\n", "log": [{"name": "registry.health.service", "msg": "Broadcasting health update: /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 103, "funcName": "broadcast_health_update", "created": 1749421167.5037298, "msecs": 503.0, "relativeCreated": 6558.209419250488, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-180", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00025949100017896853, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_broadcast_health_update_all_services", "lineno": 136, "outcome": "passed", "keywords": ["test_broadcast_health_update_all_services", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004745129990624264, "outcome": "passed"}, "call": {"duration": 0.0022177250029926654, "outcome": "passed", "stderr": "2025-06-08 22:19:27.507 - PID:89416 - service.py:103 - registry.health.service - INFO - Broadcasting health update: all services\n", "log": [{"name": "registry.health.service", "msg": "Broadcasting health update: all services", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 103, "funcName": "broadcast_health_update", "created": 1749421167.5074813, "msecs": 507.0, "relativeCreated": 6561.960935592651, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-184", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002653620031196624, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_safe_send_message_success", "lineno": 154, "outcome": "passed", "keywords": ["test_safe_send_message_success", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0010395870012871455, "outcome": "passed"}, "call": {"duration": 0.0005674040003214031, "outcome": "passed"}, "teardown": {"duration": 0.0002571820004959591, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_safe_send_message_failure", "lineno": 162, "outcome": "passed", "keywords": ["test_safe_send_message_failure", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0010408759990241379, "outcome": "passed"}, "call": {"duration": 0.0004355729979579337, "outcome": "passed", "stderr": "2025-06-08 22:19:27.512 - PID:89416 - service.py:129 - registry.health.service - WARNING - Failed to send message to WebSocket client <Mock name='mock.client' id='139914472014960'>: Connection error\n", "log": [{"name": "registry.health.service", "msg": "Failed to send message to WebSocket client <Mock name='mock.client' id='139914472014960'>: Connection error", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 129, "funcName": "_safe_send_message", "created": 1749421167.5125647, "msecs": 512.0, "relativeCreated": 6567.044258117676, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-189", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002650220012583304, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_service_health_data", "lineno": 171, "outcome": "passed", "keywords": ["test_get_service_health_data", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00027748099819291383, "outcome": "passed"}, "call": {"duration": 0.000618123998719966, "outcome": "passed"}, "teardown": {"duration": 0.00016800099911051802, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_service_health_data_missing", "lineno": 187, "outcome": "passed", "keywords": ["test_get_service_health_data_missing", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002685020008357242, "outcome": "passed"}, "call": {"duration": 0.0004895239981124178, "outcome": "passed"}, "teardown": {"duration": 0.00015016099860076793, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_perform_health_checks", "lineno": 198, "outcome": "passed", "keywords": ["test_perform_health_checks", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004461530006665271, "outcome": "passed"}, "call": {"duration": 0.0011103270007879473, "outcome": "passed", "stderr": "2025-06-08 22:19:27.517 - PID:89416 - service.py:172 - registry.health.service - INFO - Performing health checks on 2 enabled services\n", "log": [{"name": "registry.health.service", "msg": "Performing health checks on 2 enabled services", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/health/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "_perform_health_checks", "created": 1749421167.5179431, "msecs": 517.0, "relativeCreated": 6572.422742843628, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-191", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002571719996922184, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_perform_health_checks_no_enabled_services", "lineno": 219, "outcome": "passed", "keywords": ["test_perform_health_checks_no_enabled_services", "asyncio", "pytestmark", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004278429987607524, "outcome": "passed"}, "call": {"duration": 0.0007361049974861089, "outcome": "passed"}, "teardown": {"duration": 0.0002663320010469761, "outcome": "passed"}}, {"nodeid": "tests/unit/health/test_health_service.py::TestHealthMonitoringService::test_get_all_health_status", "lineno": 235, "outcome": "passed", "keywords": ["test_get_all_health_status", "TestHealthMonitoringService", "health", "unit", "test_health_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002774819986370858, "outcome": "passed"}, "call": {"duration": 0.0007149449993448798, "outcome": "passed"}, "teardown": {"duration": 0.00015900099970167503, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_get_text_for_embedding", "lineno": 41, "outcome": "passed", "keywords": ["test_get_text_for_embedding", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002946620006696321, "outcome": "passed"}, "call": {"duration": 0.0001882819997263141, "outcome": "passed"}, "teardown": {"duration": 0.0001509709982201457, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_get_text_for_embedding_empty_data", "lineno": 54, "outcome": "passed", "keywords": ["test_get_text_for_embedding_empty_data", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00025824099793680944, "outcome": "passed"}, "call": {"duration": 0.00020601199867087416, "outcome": "passed"}, "teardown": {"duration": 0.00013892100105294958, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_initialize_new_index", "lineno": 63, "outcome": "passed", "keywords": ["test_initialize_new_index", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0006469250001828186, "outcome": "passed"}, "call": {"duration": 0.0002683909988263622, "outcome": "passed"}, "teardown": {"duration": 0.00019012200209544972, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_initialize_success", "lineno": 71, "outcome": "passed", "keywords": ["test_initialize_success", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008112260002235416, "outcome": "passed"}, "call": {"duration": 0.0007598259981023148, "outcome": "passed"}, "teardown": {"duration": 0.00028114099768572487, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_local_exists", "lineno": 85, "outcome": "passed", "keywords": ["test_load_embedding_model_local_exists", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007837449993530754, "outcome": "passed"}, "call": {"duration": 0.001960603000043193, "outcome": "passed", "stderr": "2025-06-08 22:19:27.531 - PID:89416 - service.py:33 - registry.search.service - INFO - Loading FAISS data and embedding model...\n2025-06-08 22:19:27.532 - PID:89416 - service.py:52 - registry.search.service - INFO - Loading SentenceTransformer model from local path: /tmp/test_model\n2025-06-08 22:19:27.532 - PID:89416 - service.py:64 - registry.search.service - INFO - SentenceTransformer model loaded successfully.\n", "log": [{"name": "registry.search.service", "msg": "Loading FAISS data and embedding model...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 33, "funcName": "_load_embedding_model", "created": 1749421167.5317078, "msecs": 531.0, "relativeCreated": 6586.187362670898, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-197", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Loading SentenceTransformer model from local path: /tmp/test_model", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "_load_embedding_model", "created": 1749421167.5324113, "msecs": 532.0, "relativeCreated": 6586.890935897827, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-197", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "SentenceTransformer model loaded successfully.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 64, "funcName": "_load_embedding_model", "created": 1749421167.532637, "msecs": 532.0, "relativeCreated": 6587.116479873657, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-197", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029273199834278785, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_download_from_hf", "lineno": 105, "outcome": "passed", "keywords": ["test_load_embedding_model_download_from_hf", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008920159998524468, "outcome": "passed"}, "call": {"duration": 0.001745440997183323, "outcome": "passed", "stderr": "2025-06-08 22:19:27.535 - PID:89416 - service.py:33 - registry.search.service - INFO - Loading FAISS data and embedding model...\n2025-06-08 22:19:27.536 - PID:89416 - service.py:55 - registry.search.service - INFO - Local model not found at /tmp/test_model, downloading from Hugging Face\n2025-06-08 22:19:27.536 - PID:89416 - service.py:64 - registry.search.service - INFO - SentenceTransformer model loaded successfully.\n", "log": [{"name": "registry.search.service", "msg": "Loading FAISS data and embedding model...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 33, "funcName": "_load_embedding_model", "created": 1749421167.5353434, "msecs": 535.0, "relativeCreated": 6589.823007583618, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-199", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Local model not found at /tmp/test_model, downloading from Hugging Face", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 55, "funcName": "_load_embedding_model", "created": 1749421167.5360608, "msecs": 536.0, "relativeCreated": 6590.540409088135, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-199", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "SentenceTransformer model loaded successfully.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 64, "funcName": "_load_embedding_model", "created": 1749421167.5362823, "msecs": 536.0, "relativeCreated": 6590.76189994812, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-199", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003083519986830652, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_embedding_model_exception", "lineno": 123, "outcome": "passed", "keywords": ["test_load_embedding_model_exception", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008250860009866301, "outcome": "passed"}, "call": {"duration": 0.0013164979973225854, "outcome": "passed", "stderr": "2025-06-08 22:19:27.538 - PID:89416 - service.py:33 - registry.search.service - INFO - Loading FAISS data and embedding model...\n2025-06-08 22:19:27.539 - PID:89416 - service.py:55 - registry.search.service - INFO - Local model not found at /tmp/test_model, downloading from Hugging Face\n2025-06-08 22:19:27.539 - PID:89416 - service.py:66 - registry.search.service - ERROR - Failed to load SentenceTransformer model: Model load failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 56, in _load_embedding_model\n    self.embedding_model = SentenceTransformer(str(settings.embeddings_model_name))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Model load failed\n", "log": [{"name": "registry.search.service", "msg": "Loading FAISS data and embedding model...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 33, "funcName": "_load_embedding_model", "created": 1749421167.5386581, "msecs": 538.0, "relativeCreated": 6593.137741088867, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-201", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Local model not found at /tmp/test_model, downloading from Hugging Face", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 55, "funcName": "_load_embedding_model", "created": 1749421167.5390382, "msecs": 539.0, "relativeCreated": 6593.517780303955, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-201", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Failed to load SentenceTransformer model: Model load failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 56, in _load_embedding_model\n    self.embedding_model = SentenceTransformer(str(settings.embeddings_model_name))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Model load failed", "stack_info": null, "lineno": 66, "funcName": "_load_embedding_model", "created": 1749421167.5391412, "msecs": 539.0, "relativeCreated": 6593.620777130127, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-201", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003168520015606191, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_existing_files", "lineno": 133, "outcome": "passed", "keywords": ["test_load_faiss_data_existing_files", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008321259992953856, "outcome": "passed"}, "call": {"duration": 0.0018010420026257634, "outcome": "passed", "stderr": "2025-06-08 22:19:27.542 - PID:89416 - service.py:73 - registry.search.service - INFO - Loading FAISS index from /tmp/test_index.faiss\n2025-06-08 22:19:27.542 - PID:89416 - service.py:76 - registry.search.service - INFO - Loading FAISS metadata from /tmp/test_metadata.json\n2025-06-08 22:19:27.543 - PID:89416 - service.py:82 - registry.search.service - INFO - FAISS data loaded. Index size: <Mock name='faiss.read_index().ntotal' id='139914472716144'>. Next ID: 2\n", "log": [{"name": "registry.search.service", "msg": "Loading FAISS index from /tmp/test_index.faiss", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 73, "funcName": "_load_faiss_data", "created": 1749421167.5426552, "msecs": 542.0, "relativeCreated": 6597.134828567505, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-203", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Loading FAISS metadata from /tmp/test_metadata.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "_load_faiss_data", "created": 1749421167.5427837, "msecs": 542.0, "relativeCreated": 6597.263336181641, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-203", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "FAISS data loaded. Index size: <Mock name='faiss.read_index().ntotal' id='139914472716144'>. Next ID: 2", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_faiss_data", "created": 1749421167.5430791, "msecs": 543.0, "relativeCreated": 6597.5587368011475, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-203", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002840920024027582, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_dimension_mismatch", "lineno": 166, "outcome": "passed", "keywords": ["test_load_faiss_data_dimension_mismatch", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008317359970533289, "outcome": "passed"}, "call": {"duration": 0.0027364880006643943, "outcome": "passed", "stderr": "2025-06-08 22:19:27.546 - PID:89416 - service.py:73 - registry.search.service - INFO - Loading FAISS index from /tmp/test_index.faiss\n2025-06-08 22:19:27.546 - PID:89416 - service.py:76 - registry.search.service - INFO - Loading FAISS metadata from /tmp/test_metadata.json\n2025-06-08 22:19:27.547 - PID:89416 - service.py:82 - registry.search.service - INFO - FAISS data loaded. Index size: <Mock name='faiss.read_index().ntotal' id='139914472713600'>. Next ID: 0\n2025-06-08 22:19:27.547 - PID:89416 - service.py:86 - registry.search.service - WARNING - Loaded FAISS index dimension (256) differs from expected (384). Re-initializing.\n", "log": [{"name": "registry.search.service", "msg": "Loading FAISS index from /tmp/test_index.faiss", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 73, "funcName": "_load_faiss_data", "created": 1749421167.5461173, "msecs": 546.0, "relativeCreated": 6600.596904754639, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-205", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Loading FAISS metadata from /tmp/test_metadata.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "_load_faiss_data", "created": 1749421167.5462484, "msecs": 546.0, "relativeCreated": 6600.7280349731445, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-205", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "FAISS data loaded. Index size: <Mock name='faiss.read_index().ntotal' id='139914472713600'>. Next ID: 0", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_faiss_data", "created": 1749421167.547462, "msecs": 547.0, "relativeCreated": 6601.9415855407715, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-205", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Loaded FAISS index dimension (256) differs from expected (384). Re-initializing.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 86, "funcName": "_load_faiss_data", "created": 1749421167.5475492, "msecs": 547.0, "relativeCreated": 6602.028846740723, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-205", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00029754200295428745, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_load_faiss_data_no_files", "lineno": 191, "outcome": "passed", "keywords": ["test_load_faiss_data_no_files", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007981250018929131, "outcome": "passed"}, "call": {"duration": 0.0008654459998069797, "outcome": "passed", "stderr": "2025-06-08 22:19:27.550 - PID:89416 - service.py:93 - registry.search.service - INFO - FAISS index or metadata not found. Initializing new.\n", "log": [{"name": "registry.search.service", "msg": "FAISS index or metadata not found. Initializing new.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 93, "funcName": "_load_faiss_data", "created": 1749421167.550131, "msecs": 550.0, "relativeCreated": 6604.6106815338135, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-207", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002993019988934975, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_success", "lineno": 203, "outcome": "passed", "keywords": ["test_save_data_success", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0007925450008769985, "outcome": "passed"}, "call": {"duration": 0.0021657239994965494, "outcome": "passed", "stderr": "2025-06-08 22:19:27.553 - PID:89416 - service.py:112 - registry.search.service - INFO - Saving FAISS index to /tmp/test_index.faiss (Size: 5)\n2025-06-08 22:19:27.553 - PID:89416 - service.py:115 - registry.search.service - INFO - Saving FAISS metadata to /tmp/test_metadata.json\n2025-06-08 22:19:27.554 - PID:89416 - service.py:122 - registry.search.service - INFO - FAISS data saved successfully.\n", "log": [{"name": "registry.search.service", "msg": "Saving FAISS index to /tmp/test_index.faiss (Size: 5)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 112, "funcName": "save_data", "created": 1749421167.5531416, "msecs": 553.0, "relativeCreated": 6607.621192932129, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-209", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Saving FAISS metadata to /tmp/test_metadata.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 115, "funcName": "save_data", "created": 1749421167.5534341, "msecs": 553.0, "relativeCreated": 6607.9137325286865, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-209", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "FAISS data saved successfully.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 122, "funcName": "save_data", "created": 1749421167.5542326, "msecs": 554.0, "relativeCreated": 6608.712196350098, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-209", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003095920001214836, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_no_index", "lineno": 224, "outcome": "passed", "keywords": ["test_save_data_no_index", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0008071550000749994, "outcome": "passed"}, "call": {"duration": 0.00037408299976959825, "outcome": "passed", "stderr": "2025-06-08 22:19:27.556 - PID:89416 - service.py:105 - registry.search.service - ERROR - FAISS index is not initialized. Cannot save.\n", "log": [{"name": "registry.search.service", "msg": "FAISS index is not initialized. Cannot save.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 105, "funcName": "save_data", "created": 1749421167.5564647, "msecs": 556.0, "relativeCreated": 6610.9442710876465, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-211", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.000299931998597458, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_save_data_exception", "lineno": 232, "outcome": "passed", "keywords": ["test_save_data_exception", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.000808505999884801, "outcome": "passed"}, "call": {"duration": 0.0012911679987155367, "outcome": "passed", "stderr": "2025-06-08 22:19:27.559 - PID:89416 - service.py:112 - registry.search.service - INFO - Saving FAISS index to /tmp/test_index.faiss (Size: <Mock name='mock.ntotal' id='139914888869600'>)\n2025-06-08 22:19:27.559 - PID:89416 - service.py:124 - registry.search.service - ERROR - Error saving FAISS data: Save failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 113, in save_data\n    faiss.write_index(self.faiss_index, str(settings.faiss_index_path))\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Save failed\n", "log": [{"name": "registry.search.service", "msg": "Saving FAISS index to /tmp/test_index.faiss (Size: <Mock name='mock.ntotal' id='139914888869600'>)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 112, "funcName": "save_data", "created": 1749421167.5591314, "msecs": 559.0, "relativeCreated": 6613.6109828948975, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-213", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Error saving FAISS data: Save failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 113, in save_data\n    faiss.write_index(self.faiss_index, str(settings.faiss_index_path))\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nException: Save failed", "stack_info": null, "lineno": 124, "funcName": "save_data", "created": 1749421167.5592585, "msecs": 559.0, "relativeCreated": 6613.738059997559, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-213", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003144330003124196, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_not_initialized", "lineno": 244, "outcome": "passed", "keywords": ["test_add_or_update_service_not_initialized", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004640730003302451, "outcome": "passed"}, "call": {"duration": 0.0003853230009553954, "outcome": "passed", "stderr": "2025-06-08 22:19:27.561 - PID:89416 - service.py:137 - registry.search.service - ERROR - Embedding model or FAISS index not initialized. Cannot add/update service in FAISS.\n", "log": [{"name": "registry.search.service", "msg": "Embedding model or FAISS index not initialized. Cannot add/update service in FAISS.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 137, "funcName": "add_or_update_service", "created": 1749421167.561392, "msecs": 561.0, "relativeCreated": 6615.8716678619385, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-215", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002831620004144497, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_new_service", "lineno": 255, "outcome": "passed", "keywords": ["test_add_or_update_service_new_service", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004276830004528165, "outcome": "passed"}, "call": {"duration": 0.0011642479985312093, "outcome": "passed", "stderr": "2025-06-08 22:19:27.563 - PID:89416 - service.py:140 - registry.search.service - INFO - Attempting to add/update service 'new_service' in FAISS.\n2025-06-08 22:19:27.563 - PID:89416 - service.py:159 - registry.search.service - INFO - New service 'new_service'. Assigning new FAISS ID: 0.\n2025-06-08 22:19:27.563 - PID:89416 - service.py:180 - registry.search.service - INFO - Added/Updated vector for 'new_service' with FAISS ID 0.\n", "log": [{"name": "registry.search.service", "msg": "Attempting to add/update service 'new_service' in FAISS.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 140, "funcName": "add_or_update_service", "created": 1749421167.5634847, "msecs": 563.0, "relativeCreated": 6617.964267730713, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-217", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "New service 'new_service'. Assigning new FAISS ID: 0.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 159, "funcName": "add_or_update_service", "created": 1749421167.5635817, "msecs": 563.0, "relativeCreated": 6618.061304092407, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-217", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Added/Updated vector for 'new_service' with FAISS ID 0.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 180, "funcName": "add_or_update_service", "created": 1749421167.5637512, "msecs": 563.0, "relativeCreated": 6618.230819702148, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-217", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002578610001364723, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_existing_no_change", "lineno": 292, "outcome": "passed", "keywords": ["test_add_or_update_service_existing_no_change", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0004362229992693756, "outcome": "passed"}, "call": {"duration": 0.0013899990008212626, "outcome": "passed", "stderr": "2025-06-08 22:19:27.566 - PID:89416 - service.py:140 - registry.search.service - INFO - Attempting to add/update service 'existing_service' in FAISS.\n2025-06-08 22:19:27.566 - PID:89416 - service.py:152 - registry.search.service - INFO - Text for embedding for 'existing_service' has not changed. Will update metadata store only if server_info differs.\n", "log": [{"name": "registry.search.service", "msg": "Attempting to add/update service 'existing_service' in FAISS.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 140, "funcName": "add_or_update_service", "created": 1749421167.5660138, "msecs": 566.0, "relativeCreated": 6620.493412017822, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-219", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Text for embedding for 'existing_service' has not changed. Will update metadata store only if server_info differs.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 152, "funcName": "add_or_update_service", "created": 1749421167.566111, "msecs": 566.0, "relativeCreated": 6620.590686798096, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-219", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0003285019993199967, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_add_or_update_service_encoding_error", "lineno": 323, "outcome": "passed", "keywords": ["test_add_or_update_service_encoding_error", "asyncio", "pytestmark", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00046187299813027494, "outcome": "passed"}, "call": {"duration": 0.0010464070001034997, "outcome": "passed", "stderr": "2025-06-08 22:19:27.569 - PID:89416 - service.py:140 - registry.search.service - INFO - Attempting to add/update service 'test_service' in FAISS.\n2025-06-08 22:19:27.569 - PID:89416 - service.py:159 - registry.search.service - INFO - New service 'test_service'. Assigning new FAISS ID: 0.\n2025-06-08 22:19:27.569 - PID:89416 - service.py:182 - registry.search.service - ERROR - Error encoding or adding embedding for 'test_service': Encoding failed\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 165, in add_or_update_service\n    embedding = await asyncio.to_thread(self.embedding_model.encode, [text_to_embed])\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Encoding failed\n", "log": [{"name": "registry.search.service", "msg": "Attempting to add/update service 'test_service' in FAISS.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 140, "funcName": "add_or_update_service", "created": 1749421167.5691185, "msecs": 569.0, "relativeCreated": 6623.598098754883, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-221", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "New service 'test_service'. Assigning new FAISS ID: 0.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 159, "funcName": "add_or_update_service", "created": 1749421167.5692182, "msecs": 569.0, "relativeCreated": 6623.697757720947, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-221", "asctime": "2025-06-08 22:19:27"}, {"name": "registry.search.service", "msg": "Error encoding or adding embedding for 'test_service': Encoding failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/search/service.py", "filename": "service.py", "module": "service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/search/service.py\", line 165, in add_or_update_service\n    embedding = await asyncio.to_thread(self.embedding_model.encode, [text_to_embed])\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise effect\nException: Encoding failed", "stack_info": null, "lineno": 182, "funcName": "add_or_update_service", "created": 1749421167.5693374, "msecs": 569.0, "relativeCreated": 6623.816967010498, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": "Task-221", "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0002697019990591798, "outcome": "passed"}}, {"nodeid": "tests/unit/search/test_faiss_service.py::TestFaissService::test_global_service_instance", "lineno": 342, "outcome": "passed", "keywords": ["test_global_service_instance", "TestFaissService", "search", "unit", "test_faiss_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0002288510004291311, "outcome": "passed"}, "call": {"duration": 0.0001996909995796159, "outcome": "passed"}, "teardown": {"duration": 0.00013968100029160269, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_init", "lineno": 20, "outcome": "passed", "keywords": ["test_init", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004054676999658113, "outcome": "passed"}, "call": {"duration": 0.00019602099928306416, "outcome": "passed"}, "teardown": {"duration": 0.0004766229976667091, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_path_to_filename", "lineno": 25, "outcome": "passed", "keywords": ["test_path_to_filename", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.003776874997129198, "outcome": "passed"}, "call": {"duration": 0.0002229609999631066, "outcome": "passed"}, "teardown": {"duration": 0.0004561630012176465, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_success", "lineno": 32, "outcome": "passed", "keywords": ["test_register_server_success", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004401979000249412, "outcome": "passed"}, "call": {"duration": 0.0008974459997261874, "outcome": "passed", "stderr": "2025-06-08 22:19:27.587 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Warren PLC' at path '/paper-with-before'\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Warren PLC' at path '/paper-with-before'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.5876935, "msecs": 587.0, "relativeCreated": 6642.173051834106, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004604030000336934, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_duplicate_path", "lineno": 44, "outcome": "passed", "keywords": ["test_register_server_duplicate_path", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004347428999608383, "outcome": "passed"}, "call": {"duration": 0.0008014150007511489, "outcome": "passed", "stderr": "2025-06-08 22:19:27.593 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Cain-Watkins' at path '/feel-actually'\n2025-06-08 22:19:27.594 - PID:89416 - server_service.py:154 - registry.services.server_service - ERROR - Service registration failed: path '/feel-actually' already exists\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Cain-Watkins' at path '/feel-actually'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.5939894, "msecs": 593.0, "relativeCreated": 6648.468971252441, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Service registration failed: path '/feel-actually' already exists", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 154, "funcName": "register_server", "created": 1749421167.594103, "msecs": 594.0, "relativeCreated": 6648.582696914673, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00045176300045568496, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_register_server_save_failure", "lineno": 55, "outcome": "passed", "keywords": ["test_register_server_save_failure", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004304018999391701, "outcome": "passed"}, "call": {"duration": 0.0004102929997316096, "outcome": "passed"}, "teardown": {"duration": 0.00044864300070912577, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_success", "lineno": 62, "outcome": "passed", "keywords": ["test_update_server_success", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004456490001757629, "outcome": "passed"}, "call": {"duration": 0.0009328959968115669, "outcome": "passed", "stderr": "2025-06-08 22:19:27.606 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Strickland-Nichols' at path '/any-blue-tax'\n2025-06-08 22:19:27.606 - PID:89416 - server_service.py:187 - registry.services.server_service - INFO - Server 'Updated Name' (/any-blue-tax) updated\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Strickland-Nichols' at path '/any-blue-tax'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6062703, "msecs": 606.0, "relativeCreated": 6660.749912261963, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Server 'Updated Name' (/any-blue-tax) updated", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 187, "funcName": "update_server", "created": 1749421167.6065097, "msecs": 606.0, "relativeCreated": 6660.989284515381, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004725929975393228, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_not_found", "lineno": 79, "outcome": "passed", "keywords": ["test_update_server_not_found", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0042602980029187165, "outcome": "passed"}, "call": {"duration": 0.0003197820005880203, "outcome": "passed", "stderr": "2025-06-08 22:19:27.612 - PID:89416 - server_service.py:174 - registry.services.server_service - ERROR - Cannot update server at path '/nonexistent': not found\n", "log": [{"name": "registry.services.server_service", "msg": "Cannot update server at path '/nonexistent': not found", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 174, "funcName": "update_server", "created": 1749421167.6122558, "msecs": 612.0, "relativeCreated": 6666.735410690308, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0005043229975854047, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_update_server_save_failure", "lineno": 84, "outcome": "passed", "keywords": ["test_update_server_save_failure", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004263877999619581, "outcome": "passed"}, "call": {"duration": 0.0009432459992240183, "outcome": "passed", "stderr": "2025-06-08 22:19:27.618 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Carney PLC' at path '/debate-amount-able'\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Carney PLC' at path '/debate-amount-able'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6185095, "msecs": 618.0, "relativeCreated": 6672.989130020142, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00045349299762165174, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_toggle_service_success", "lineno": 96, "outcome": "passed", "keywords": ["test_toggle_service_success", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004304568999941694, "outcome": "passed"}, "call": {"duration": 0.0013765889998467173, "outcome": "passed", "stderr": "2025-06-08 22:19:27.624 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Mack, Thomas and Pierce' at path '/wrong-situation'\n2025-06-08 22:19:27.625 - PID:89416 - server_service.py:200 - registry.services.server_service - INFO - Toggled 'Mack, Thomas and Pierce' (/wrong-situation) to True\n2025-06-08 22:19:27.625 - PID:89416 - server_service.py:200 - registry.services.server_service - INFO - Toggled 'Mack, Thomas and Pierce' (/wrong-situation) to False\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Mack, Thomas and Pierce' at path '/wrong-situation'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.624822, "msecs": 624.0, "relativeCreated": 6679.301500320435, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Toggled 'Mack, Thomas and Pierce' (/wrong-situation) to True", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 200, "funcName": "toggle_service", "created": 1749421167.6251602, "msecs": 625.0, "relativeCreated": 6679.63981628418, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Toggled 'Mack, Thomas and Pierce' (/wrong-situation) to False", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 200, "funcName": "toggle_service", "created": 1749421167.62552, "msecs": 625.0, "relativeCreated": 6679.999589920044, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004911329997412395, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_toggle_service_not_found", "lineno": 115, "outcome": "passed", "keywords": ["test_toggle_service_not_found", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0037458949991560075, "outcome": "passed"}, "call": {"duration": 0.0003242919992771931, "outcome": "passed", "stderr": "2025-06-08 22:19:27.630 - PID:89416 - server_service.py:193 - registry.services.server_service - ERROR - Cannot toggle service at path '/nonexistent': not found\n", "log": [{"name": "registry.services.server_service", "msg": "Cannot toggle service at path '/nonexistent': not found", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 193, "funcName": "toggle_service", "created": 1749421167.6307764, "msecs": 630.0, "relativeCreated": 6685.256004333496, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004331330019340385, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_server_info", "lineno": 120, "outcome": "passed", "keywords": ["test_get_server_info", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004275577997759683, "outcome": "passed"}, "call": {"duration": 0.0007213749995571561, "outcome": "passed", "stderr": "2025-06-08 22:19:27.636 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Schmidt-Fisher' at path '/bed-responsibility'\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Schmidt-Fisher' at path '/bed-responsibility'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6368608, "msecs": 636.0, "relativeCreated": 6691.340446472168, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004408429995237384, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_all_servers", "lineno": 133, "outcome": "passed", "keywords": ["test_get_all_servers", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.005219524002313847, "outcome": "passed"}, "call": {"duration": 0.0010180569988733623, "outcome": "passed", "stderr": "2025-06-08 22:19:27.644 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Barajas PLC' at path '/film-gun-like-every'\n2025-06-08 22:19:27.644 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Robinson-Anderson' at path '/also-response-serve'\n2025-06-08 22:19:27.644 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Pierce, Wells and Taylor' at path '/sign-policy-weight'\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Barajas PLC' at path '/film-gun-like-every'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6440775, "msecs": 644.0, "relativeCreated": 6698.557138442993, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "New service registered: 'Robinson-Anderson' at path '/also-response-serve'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.644225, "msecs": 644.0, "relativeCreated": 6698.704481124878, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "New service registered: 'Pierce, Wells and Taylor' at path '/sign-policy-weight'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6443157, "msecs": 644.0, "relativeCreated": 6698.795318603516, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00047113299660850316, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_is_service_enabled", "lineno": 147, "outcome": "passed", "keywords": ["test_is_service_enabled", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.00429920899841818, "outcome": "passed"}, "call": {"duration": 0.001011016000120435, "outcome": "passed", "stderr": "2025-06-08 22:19:27.650 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Peters, Weiss and Gonzalez' at path '/decide-tree'\n2025-06-08 22:19:27.650 - PID:89416 - server_service.py:200 - registry.services.server_service - INFO - Toggled 'Peters, Weiss and Gonzalez' (/decide-tree) to True\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Peters, Weiss and Gonzalez' at path '/decide-tree'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6504848, "msecs": 650.0, "relativeCreated": 6704.964399337769, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Toggled 'Peters, Weiss and Gonzalez' (/decide-tree) to True", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 200, "funcName": "toggle_service", "created": 1749421167.650795, "msecs": 650.0, "relativeCreated": 6705.27458190918, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004546329982986208, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_get_enabled_services", "lineno": 164, "outcome": "passed", "keywords": ["test_get_enabled_services", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.005138615000760183, "outcome": "passed"}, "call": {"duration": 0.0012869279998994898, "outcome": "passed", "stderr": "2025-06-08 22:19:27.657 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Hubbard-Jones' at path '/impact-account'\n2025-06-08 22:19:27.657 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Reyes-Cross' at path '/get-which-toward'\n2025-06-08 22:19:27.658 - PID:89416 - server_service.py:168 - registry.services.server_service - INFO - New service registered: 'Frazier Ltd' at path '/couple-marriage'\n2025-06-08 22:19:27.658 - PID:89416 - server_service.py:200 - registry.services.server_service - INFO - Toggled 'Hubbard-Jones' (/impact-account) to True\n2025-06-08 22:19:27.658 - PID:89416 - server_service.py:200 - registry.services.server_service - INFO - Toggled 'Reyes-Cross' (/get-which-toward) to True\n", "log": [{"name": "registry.services.server_service", "msg": "New service registered: 'Hubbard-Jones' at path '/impact-account'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.6578147, "msecs": 657.0, "relativeCreated": 6712.294340133667, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "New service registered: 'Reyes-Cross' at path '/get-which-toward'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.657955, "msecs": 657.0, "relativeCreated": 6712.434530258179, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "New service registered: 'Frazier Ltd' at path '/couple-marriage'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 168, "funcName": "register_server", "created": 1749421167.658044, "msecs": 658.0, "relativeCreated": 6712.523698806763, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Toggled 'Hubbard-Jones' (/impact-account) to True", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 200, "funcName": "toggle_service", "created": 1749421167.6583173, "msecs": 658.0, "relativeCreated": 6712.796926498413, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Toggled 'Reyes-Cross' (/get-which-toward) to True", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 200, "funcName": "toggle_service", "created": 1749421167.6584182, "msecs": 658.0, "relativeCreated": 6712.897777557373, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004827640004805289, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_server_to_file", "lineno": 187, "outcome": "passed", "keywords": ["test_save_server_to_file", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0043050690001109615, "outcome": "passed"}, "call": {"duration": 0.0027716479999071453, "outcome": "passed", "stderr": "2025-06-08 22:19:27.666 - PID:89416 - server_service.py:133 - registry.services.server_service - INFO - Successfully saved server 'Diaz-Kelley' to /home/ubuntu/mcp-gateway-registry/registry/servers/beyond-financial.json\n", "log": [{"name": "registry.services.server_service", "msg": "Successfully saved server 'Diaz-Kelley' to /home/ubuntu/mcp-gateway-registry/registry/servers/beyond-financial.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 133, "funcName": "save_server_to_file", "created": 1749421167.6666157, "msecs": 666.0, "relativeCreated": 6721.095323562622, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004716729999927338, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_server_to_file_failure", "lineno": 197, "outcome": "passed", "keywords": ["test_save_server_to_file_failure", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0044329390002531, "outcome": "passed"}, "call": {"duration": 0.0010143170002265833, "outcome": "passed", "stderr": "2025-06-08 22:19:27.672 - PID:89416 - server_service.py:136 - registry.services.server_service - ERROR - Failed to save server 'Johnson, Curry and Carter' data to population-season.json: File error\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 130, in save_server_to_file\n    with open(file_path, \"w\") as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error\n", "log": [{"name": "registry.services.server_service", "msg": "Failed to save server 'Johnson, Curry and Carter' data to population-season.json: File error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 130, in save_server_to_file\n    with open(file_path, \"w\") as f:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error", "stack_info": null, "lineno": 136, "funcName": "save_server_to_file", "created": 1749421167.6729755, "msecs": 672.0, "relativeCreated": 6727.455139160156, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004938530000799801, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_service_state", "lineno": 203, "outcome": "passed", "keywords": ["test_save_service_state", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038039649989514146, "outcome": "passed"}, "call": {"duration": 0.0019964940001955256, "outcome": "passed", "stderr": "2025-06-08 22:19:27.680 - PID:89416 - server_service.py:115 - registry.services.server_service - INFO - Persisted state to /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json\n", "log": [{"name": "registry.services.server_service", "msg": "Persisted state to /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 115, "funcName": "save_service_state", "created": 1749421167.6803155, "msecs": 680.0, "relativeCreated": 6734.795093536377, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00047578299927408807, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_save_service_state_failure", "lineno": 213, "outcome": "passed", "keywords": ["test_save_service_state_failure", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038139950011100154, "outcome": "passed"}, "call": {"duration": 0.0007277449985849671, "outcome": "passed", "stderr": "2025-06-08 22:19:27.686 - PID:89416 - server_service.py:117 - registry.services.server_service - ERROR - ERROR: Failed to persist state to /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json: File error\n", "log": [{"name": "registry.services.server_service", "msg": "ERROR: Failed to persist state to /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json: File error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 117, "funcName": "save_service_state", "created": 1749421167.686097, "msecs": 686.0, "relativeCreated": 6740.576505661011, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00047114300105022267, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_no_file", "lineno": 220, "outcome": "passed", "keywords": ["test_load_service_state_no_file", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038016750004317146, "outcome": "passed"}, "call": {"duration": 0.0006814840016886592, "outcome": "passed", "stderr": "2025-06-08 22:19:27.691 - PID:89416 - server_service.py:82 - registry.services.server_service - INFO - Attempting to load persisted state from /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json...\n2025-06-08 22:19:27.691 - PID:89416 - server_service.py:93 - registry.services.server_service - INFO - Successfully loaded persisted state.\n2025-06-08 22:19:27.691 - PID:89416 - server_service.py:108 - registry.services.server_service - INFO - Initial service state loaded: {'/test': False}\n", "log": [{"name": "registry.services.server_service", "msg": "Attempting to load persisted state from /home/ubuntu/mcp-gateway-registry/registry/servers/server_state.json...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_service_state", "created": 1749421167.6914783, "msecs": 691.0, "relativeCreated": 6745.957851409912, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded persisted state.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 93, "funcName": "_load_service_state", "created": 1749421167.6917114, "msecs": 691.0, "relativeCreated": 6746.191024780273, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Initial service state loaded: {'/test': False}", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 108, "funcName": "_load_service_state", "created": 1749421167.6917827, "msecs": 691.0, "relativeCreated": 6746.262311935425, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004460930031200405, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_with_file", "lineno": 231, "outcome": "passed", "keywords": ["test_load_service_state_with_file", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.003744965000805678, "outcome": "passed"}, "call": {"duration": 0.00280463899980532, "outcome": "passed", "stderr": "2025-06-08 22:19:27.698 - PID:89416 - server_service.py:82 - registry.services.server_service - INFO - Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914471879648'>...\n2025-06-08 22:19:27.699 - PID:89416 - server_service.py:93 - registry.services.server_service - INFO - Successfully loaded persisted state.\n2025-06-08 22:19:27.699 - PID:89416 - server_service.py:108 - registry.services.server_service - INFO - Initial service state loaded: {'/test': True, '/test2': False}\n", "log": [{"name": "registry.services.server_service", "msg": "Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914471879648'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_service_state", "created": 1749421167.6988037, "msecs": 698.0, "relativeCreated": 6753.283262252808, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded persisted state.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 93, "funcName": "_load_service_state", "created": 1749421167.699407, "msecs": 699.0, "relativeCreated": 6753.886699676514, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Initial service state loaded: {'/test': True, '/test2': False}", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 108, "funcName": "_load_service_state", "created": 1749421167.6994882, "msecs": 699.0, "relativeCreated": 6753.967761993408, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004939740028930828, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_file_error", "lineno": 246, "outcome": "passed", "keywords": ["test_load_service_state_file_error", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.003798845998971956, "outcome": "passed"}, "call": {"duration": 0.0019706130005943123, "outcome": "passed", "stderr": "2025-06-08 22:19:27.705 - PID:89416 - server_service.py:82 - registry.services.server_service - INFO - Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914471811712'>...\n2025-06-08 22:19:27.706 - PID:89416 - server_service.py:100 - registry.services.server_service - ERROR - Failed to read state file <MagicMock name='settings.state_file_path' id='139914471811712'>: File error. Initializing empty state.\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 87, in _load_service_state\n    with open(settings.state_file_path, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error\n2025-06-08 22:19:27.706 - PID:89416 - server_service.py:108 - registry.services.server_service - INFO - Initial service state loaded: {'/test': False}\n", "log": [{"name": "registry.services.server_service", "msg": "Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914471811712'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_service_state", "created": 1749421167.705627, "msecs": 705.0, "relativeCreated": 6760.106563568115, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Failed to read state file <MagicMock name='settings.state_file_path' id='139914471811712'>: File error. Initializing empty state.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 87, in _load_service_state\n    with open(settings.state_file_path, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error", "stack_info": null, "lineno": 100, "funcName": "_load_service_state", "created": 1749421167.7061312, "msecs": 706.0, "relativeCreated": 6760.610818862915, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Initial service state loaded: {'/test': False}", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 108, "funcName": "_load_service_state", "created": 1749421167.7064931, "msecs": 706.0, "relativeCreated": 6760.972738265991, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00048276300003635697, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_service_state_json_error", "lineno": 258, "outcome": "passed", "keywords": ["test_load_service_state_json_error", "__wrapped__", "patchings", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038250450015766546, "outcome": "passed"}, "call": {"duration": 0.002834378999978071, "outcome": "passed", "stderr": "2025-06-08 22:19:27.713 - PID:89416 - server_service.py:82 - registry.services.server_service - INFO - Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914470788848'>...\n2025-06-08 22:19:27.714 - PID:89416 - server_service.py:97 - registry.services.server_service - ERROR - Could not parse JSON from <MagicMock name='settings.state_file_path' id='139914470788848'>: Bad JSON: line 1 column 1 (char 0). Initializing empty state.\n2025-06-08 22:19:27.714 - PID:89416 - server_service.py:108 - registry.services.server_service - INFO - Initial service state loaded: {'/test': False}\n", "log": [{"name": "registry.services.server_service", "msg": "Attempting to load persisted state from <MagicMock name='settings.state_file_path' id='139914470788848'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "_load_service_state", "created": 1749421167.7136238, "msecs": 713.0, "relativeCreated": 6768.103361129761, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Could not parse JSON from <MagicMock name='settings.state_file_path' id='139914470788848'>: Bad JSON: line 1 column 1 (char 0). Initializing empty state.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 97, "funcName": "_load_service_state", "created": 1749421167.7142944, "msecs": 714.0, "relativeCreated": 6768.774032592773, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Initial service state loaded: {'/test': False}", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 108, "funcName": "_load_service_state", "created": 1749421167.7143767, "msecs": 714.0, "relativeCreated": 6768.8562870025635, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004855839979427401, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_empty_directory", "lineno": 271, "outcome": "passed", "keywords": ["test_load_servers_and_state_empty_directory", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0037954260005790275, "outcome": "passed"}, "call": {"duration": 0.0012277090027055237, "outcome": "passed", "stderr": "2025-06-08 22:19:27.720 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from <Mock name='settings.servers_dir' id='139914470828096'>...\n2025-06-08 22:19:27.720 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 0 JSON files in <Mock name='settings.servers_dir' id='139914470828096'> and its subdirectories\n2025-06-08 22:19:27.720 - PID:89416 - server_service.py:34 - registry.services.server_service - WARNING - No server definition files found in <Mock name='settings.servers_dir' id='139914470828096'>. Initializing empty registry.\n2025-06-08 22:19:27.720 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 0 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from <Mock name='settings.servers_dir' id='139914470828096'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.7201073, "msecs": 720.0, "relativeCreated": 6774.586915969849, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 0 JSON files in <Mock name='settings.servers_dir' id='139914470828096'> and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.720292, "msecs": 720.0, "relativeCreated": 6774.771690368652, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "No server definition files found in <Mock name='settings.servers_dir' id='139914470828096'>. Initializing empty registry.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 34, "funcName": "load_servers_and_state", "created": 1749421167.720433, "msecs": 720.0, "relativeCreated": 6774.912595748901, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 0 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7204924, "msecs": 720.0, "relativeCreated": 6774.971961975098, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00045381300151348114, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_with_servers", "lineno": 284, "outcome": "passed", "keywords": ["test_load_servers_and_state_with_servers", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.004339249000622658, "outcome": "passed"}, "call": {"duration": 0.002595917001599446, "outcome": "passed", "stderr": "2025-06-08 22:19:27.726 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers...\n2025-06-08 22:19:27.727 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 4 JSON files in /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers and its subdirectories\n2025-06-08 22:19:27.727 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - test_server_2.json\n2025-06-08 22:19:27.728 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - currenttime.json\n2025-06-08 22:19:27.728 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - test_server_1.json\n2025-06-08 22:19:27.728 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - auth_server.json\n2025-06-08 22:19:27.728 - PID:89416 - server_service.py:66 - registry.services.server_service - WARNING - Invalid server entry format found in /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers/auth_server.json. Skipping.\n2025-06-08 22:19:27.728 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 3 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.726901, "msecs": 726.0, "relativeCreated": 6781.380653381348, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 4 JSON files in /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.7277215, "msecs": 727.0, "relativeCreated": 6782.201051712036, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - test_server_2.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.727895, "msecs": 727.0, "relativeCreated": 6782.374620437622, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - currenttime.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.7280443, "msecs": 728.0, "relativeCreated": 6782.52387046814, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - test_server_1.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.7281735, "msecs": 728.0, "relativeCreated": 6782.653093338013, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - auth_server.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.7282941, "msecs": 728.0, "relativeCreated": 6782.773733139038, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Invalid server entry format found in /home/ubuntu/mcp-gateway-registry/tests/fixtures/servers/auth_server.json. Skipping.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "load_servers_and_state", "created": 1749421167.7285228, "msecs": 728.0, "relativeCreated": 6783.0023765563965, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 3 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7285976, "msecs": 728.0, "relativeCreated": 6783.077239990234, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00045765299728373066, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_file_error", "lineno": 303, "outcome": "passed", "keywords": ["test_load_servers_and_state_file_error", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038388259999919683, "outcome": "passed"}, "call": {"duration": 0.0018116520004696213, "outcome": "passed", "stderr": "2025-06-08 22:19:27.734 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from <Mock name='settings.servers_dir' id='139914470879024'>...\n2025-06-08 22:19:27.734 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 1 JSON files in <Mock name='settings.servers_dir' id='139914470879024'> and its subdirectories\n2025-06-08 22:19:27.735 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - bad.json\n2025-06-08 22:19:27.735 - PID:89416 - server_service.py:72 - registry.services.server_service - ERROR - An unexpected error occurred loading <Mock id='139914470827904'>: File error\nTraceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 42, in load_servers_and_state\n    with open(server_file, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error\n2025-06-08 22:19:27.735 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 0 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from <Mock name='settings.servers_dir' id='139914470879024'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.7347403, "msecs": 734.0, "relativeCreated": 6789.219856262207, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 1 JSON files in <Mock name='settings.servers_dir' id='139914470879024'> and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.7349527, "msecs": 734.0, "relativeCreated": 6789.4322872161865, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - bad.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.73506, "msecs": 735.0, "relativeCreated": 6789.539575576782, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "An unexpected error occurred loading <Mock id='139914470827904'>: File error", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py\", line 42, in load_servers_and_state\n    with open(server_file, \"r\") as f:\n         ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1137, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1141, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/unittest/mock.py\", line 1196, in _execute_mock_call\n    raise effect\nOSError: File error", "stack_info": null, "lineno": 72, "funcName": "load_servers_and_state", "created": 1749421167.7351472, "msecs": 735.0, "relativeCreated": 6789.626836776733, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 0 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7354887, "msecs": 735.0, "relativeCreated": 6789.968252182007, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00045393300024443306, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_json_error", "lineno": 325, "outcome": "passed", "keywords": ["test_load_servers_and_state_json_error", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0046323809983732644, "outcome": "passed"}, "call": {"duration": 0.0026718469998741057, "outcome": "passed", "stderr": "2025-06-08 22:19:27.743 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from <Mock name='settings.servers_dir' id='139914470878304'>...\n2025-06-08 22:19:27.743 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 1 JSON files in <Mock name='settings.servers_dir' id='139914470878304'> and its subdirectories\n2025-06-08 22:19:27.743 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - invalid.json\n2025-06-08 22:19:27.743 - PID:89416 - server_service.py:70 - registry.services.server_service - ERROR - Could not parse JSON from <Mock id='139914470879024'>: Bad JSON: line 1 column 1 (char 0).\n2025-06-08 22:19:27.744 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 0 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from <Mock name='settings.servers_dir' id='139914470878304'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.7433577, "msecs": 743.0, "relativeCreated": 6797.837257385254, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 1 JSON files in <Mock name='settings.servers_dir' id='139914470878304'> and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.7435496, "msecs": 743.0, "relativeCreated": 6798.029184341431, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - invalid.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.7436674, "msecs": 743.0, "relativeCreated": 6798.146963119507, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Could not parse JSON from <Mock id='139914470879024'>: Bad JSON: line 1 column 1 (char 0).", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 70, "funcName": "load_servers_and_state", "created": 1749421167.743921, "msecs": 743.0, "relativeCreated": 6798.400640487671, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 0 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7440069, "msecs": 744.0, "relativeCreated": 6798.4864711761475, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.00048169300134759396, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_missing_path", "lineno": 348, "outcome": "passed", "keywords": ["test_load_servers_and_state_missing_path", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038563959969906136, "outcome": "passed"}, "call": {"duration": 0.002704588001506636, "outcome": "passed", "stderr": "2025-06-08 22:19:27.751 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from <Mock name='settings.servers_dir' id='139914471287472'>...\n2025-06-08 22:19:27.751 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 1 JSON files in <Mock name='settings.servers_dir' id='139914471287472'> and its subdirectories\n2025-06-08 22:19:27.751 - PID:89416 - server_service.py:31 - registry.services.server_service - INFO - [DEBUG] - nopath.json\n2025-06-08 22:19:27.751 - PID:89416 - server_service.py:66 - registry.services.server_service - WARNING - Invalid server entry format found in <Mock id='139914888187824'>. Skipping.\n2025-06-08 22:19:27.751 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 0 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from <Mock name='settings.servers_dir' id='139914471287472'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.751119, "msecs": 751.0, "relativeCreated": 6805.598497390747, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 1 JSON files in <Mock name='settings.servers_dir' id='139914471287472'> and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.7513065, "msecs": 751.0, "relativeCreated": 6805.7861328125, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "[DEBUG] - nopath.json", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 31, "funcName": "load_servers_and_state", "created": 1749421167.7514045, "msecs": 751.0, "relativeCreated": 6805.884122848511, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Invalid server entry format found in <Mock id='139914888187824'>. Skipping.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "load_servers_and_state", "created": 1749421167.7516353, "msecs": 751.0, "relativeCreated": 6806.114912033081, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 0 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7517157, "msecs": 751.0, "relativeCreated": 6806.195259094238, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0004502929987211246, "outcome": "passed"}}, {"nodeid": "tests/unit/servers/test_server_service.py::TestServerService::test_load_servers_and_state_directory_not_exists", "lineno": 373, "outcome": "passed", "keywords": ["test_load_servers_and_state_directory_not_exists", "TestServerService", "servers", "unit", "test_server_service.py", "tests", "mcp-gateway-registry", ""], "setup": {"duration": 0.0038366759981727228, "outcome": "passed"}, "call": {"duration": 0.0011395870023989119, "outcome": "passed", "stderr": "2025-06-08 22:19:27.757 - PID:89416 - server_service.py:21 - registry.services.server_service - INFO - Loading server definitions from <Mock name='settings.servers_dir' id='139914473148240'>...\n2025-06-08 22:19:27.757 - PID:89416 - server_service.py:28 - registry.services.server_service - INFO - Found 0 JSON files in <Mock name='settings.servers_dir' id='139914473148240'> and its subdirectories\n2025-06-08 22:19:27.757 - PID:89416 - server_service.py:34 - registry.services.server_service - WARNING - No server definition files found in <Mock name='settings.servers_dir' id='139914473148240'>. Initializing empty registry.\n2025-06-08 22:19:27.757 - PID:89416 - server_service.py:75 - registry.services.server_service - INFO - Successfully loaded 0 server definitions.\n", "log": [{"name": "registry.services.server_service", "msg": "Loading server definitions from <Mock name='settings.servers_dir' id='139914473148240'>...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 21, "funcName": "load_servers_and_state", "created": 1749421167.7575984, "msecs": 757.0, "relativeCreated": 6812.07799911499, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Found 0 JSON files in <Mock name='settings.servers_dir' id='139914473148240'> and its subdirectories", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "load_servers_and_state", "created": 1749421167.7577877, "msecs": 757.0, "relativeCreated": 6812.267303466797, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "No server definition files found in <Mock name='settings.servers_dir' id='139914473148240'>. Initializing empty registry.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 34, "funcName": "load_servers_and_state", "created": 1749421167.7578588, "msecs": 757.0, "relativeCreated": 6812.338352203369, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}, {"name": "registry.services.server_service", "msg": "Successfully loaded 0 server definitions.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/ubuntu/mcp-gateway-registry/registry/services/server_service.py", "filename": "server_service.py", "module": "server_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 75, "funcName": "load_servers_and_state", "created": 1749421167.7579162, "msecs": 757.0, "relativeCreated": 6812.395811080933, "thread": 139918637741888, "threadName": "MainThread", "processName": "MainProcess", "process": 89416, "taskName": null, "asctime": "2025-06-08 22:19:27"}]}, "teardown": {"duration": 0.0010845680008060299, "outcome": "passed"}}], "warnings": [{"message": "numpy.core._multiarray_umath is deprecated and has been renamed to numpy._core._multiarray_umath. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core._multiarray_umath.__cpu_features__.", "category": "DeprecationWarning", "when": "config", "filename": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/faiss/loader.py", "lineno": 49}, {"message": "builtin type SwigPyPacked has no __module__ attribute", "category": "DeprecationWarning", "when": "config", "filename": "<frozen importlib._bootstrap>", "lineno": 488}, {"message": "builtin type SwigPyObject has no __module__ attribute", "category": "DeprecationWarning", "when": "config", "filename": "<frozen importlib._bootstrap>", "lineno": 488}, {"message": "builtin type swigvarlink has no __module__ attribute", "category": "DeprecationWarning", "when": "config", "filename": "<frozen importlib._bootstrap>", "lineno": 488}, {"message": "Field name \"schema\" in \"ToolInfo\" shadows an attribute in parent \"BaseModel\"", "category": "UserWarning", "when": "config", "filename": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/pydantic/_internal/_fields.py", "lineno": 198}, {"message": "The `name` is not the first parameter anymore. The first parameter should be the `Request` instance.\nReplace `TemplateResponse(name, {\"request\": request})` by `TemplateResponse(request, name)`.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/starlette/templating.py", "lineno": 161}, {"message": "The `name` is not the first parameter anymore. The first parameter should be the `Request` instance.\nReplace `TemplateResponse(name, {\"request\": request})` by `TemplateResponse(request, name)`.", "category": "DeprecationWarning", "when": "runtest", "filename": "/home/ubuntu/mcp-gateway-registry/.venv/lib/python3.12/site-packages/starlette/templating.py", "lineno": 161}, {"message": "coroutine 'HealthMonitoringService._run_health_checks' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/usr/local/lib/python3.12/unittest/mock.py", "lineno": 478}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/usr/local/lib/python3.12/asyncio/base_events.py", "lineno": 1987}]}